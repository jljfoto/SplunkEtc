webpackJsonp([18],{0:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__webpack_require__.p=function(){function make_url(){for(var seg,len,output="",i=0,l=arguments.length;i<l;i++)seg=arguments[i].toString(),len=seg.length,len>1&&"/"==seg.charAt(len-1)&&(seg=seg.substring(0,len-1)),output+="/"!=seg.charAt(0)?"/"+seg:seg;if("/"!=output){var segments=output.split("/"),firstseg=segments[1];if("static"==firstseg||"modules"==firstseg){var postfix=output.substring(firstseg.length+2,output.length);output="/"+firstseg,window.$C.BUILD_NUMBER&&(output+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(output+="."+window.$C.BUILD_PUSH_NUMBER),"app"==segments[2]&&(output+=":"+getConfigValue("APP_BUILD",0)),output+="/"+postfix}}var root=getConfigValue("MRSPARKLE_ROOT_PATH","/"),djangoRoot=getConfigValue("DJANGO_ROOT_PATH",""),locale=getConfigValue("LOCALE","en-US"),combinedPath="";return combinedPath=djangoRoot&&output.substring(0,djangoRoot.length)===djangoRoot?output.replace(djangoRoot,djangoRoot+"/"+locale.toLowerCase()):"/"+locale+output,""==root||"/"==root?combinedPath:root+combinedPath}function getConfigValue(key,defaultValue){if(window.$C&&window.$C.hasOwnProperty(key))return window.$C[key];if(void 0!==defaultValue)return defaultValue;throw new Error("getConfigValue - "+key+" not set, no default provided")}return make_url("/static/app/Splunk_ML_Toolkit/")+"/"}(),__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(850),__webpack_require__("util/router_utils"),__webpack_require__(36)],__WEBPACK_AMD_DEFINE_RESULT__=function(_Reports,_router_utils){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _Reports2=_interopRequireDefault(_Reports),_router_utils2=_interopRequireDefault(_router_utils);new _Reports2.default,_router_utils2.default.start_backbone_history()}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},850:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,exports,__webpack_require__("shim/jquery"),__webpack_require__("collections/search/Reports"),__webpack_require__(673),__webpack_require__("routers/Reports"),__webpack_require__("views/reports/Master"),__webpack_require__(36)],__WEBPACK_AMD_DEFINE_RESULT__=function(module,exports,_jquery,_Reports,_loadLayout,_Reports3,_Master){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery2=_interopRequireDefault(_jquery),_Reports2=_interopRequireDefault(_Reports),_loadLayout2=_interopRequireDefault(_loadLayout),_Reports4=_interopRequireDefault(_Reports3),_Master2=_interopRequireDefault(_Master);exports.default=_Reports4.default.extend({initialize:function(){var _this=this;_Reports4.default.prototype.initialize.apply(this,arguments),this.deferreds.layout=_jquery2.default.Deferred(),(0,_loadLayout2.default)(function(layout){_this.deferreds.layout.resolve(layout.create())})},initializeAndRenderViews:function(){var _this2=this;_jquery2.default.when(this.deferredAlertActionCollection,this.deferreds.namespaceAppDeferred,this.deferreds.layout).then(function(alertAction,namespace,layout){_this2.reportsView=new _Master2.default({model:{state:_this2.stateModel,application:_this2.model.application,appLocal:_this2.model.appLocal,classicurl:_this2.model.classicurl,user:_this2.model.user,uiPrefs:_this2.uiPrefsModel,serverInfo:_this2.model.serverInfo,rawSearch:_this2.rawSearch},collection:{reports:_this2.reportsCollection,roles:_this2.rolesCollection,apps:_this2.collection.appLocals,alertActions:_this2.alertActionsCollection}}),layout.getContainerElement().appendChild(_this2.reportsView.render().el),_this2.uiPrefsModel.entry.content.on("change",function(){_this2.populateUIPrefs()}),_this2.uiPrefsModel.entry.content.on("change:display.prefs.aclFilter",function(){_this2.fetchListCollection()})})},fetchListCollection:function(){this.deferreds.namespaceAppDeferred.resolve(),this.model.classicurl.fetch(),this.model.classicurl.get("search")&&(this.stateModel.set("search",this.model.classicurl.get("search"),{silent:!0}),this.model.classicurl.unset("search"),this.model.classicurl.save({},{replaceState:!0})),this.model.classicurl.get("rawSearch")&&(this.rawSearch.set("rawSearch",this.model.classicurl.get("rawSearch"),{silent:!0}),this.model.classicurl.unset("rawSearch"),this.model.classicurl.save({},{replaceState:!0}));var search=this.stateModel.get("search")||"",buttonFilterSearch=this.getButtonFilterSearch();search&&(search+=" AND "),buttonFilterSearch&&(search+=buttonFilterSearch+" AND "),search+=_Reports2.default.availableWithUserWildCardSearchString(this.model.application.get("owner"))+" AND is_visible=1",search+=" AND NOT args.mltk.experiment=*",this.stateModel.set("fetching",!0),this.reportsCollection.safeFetch({data:{app:"system"===this.model.application.get("app")?"-":this.model.application.get("app"),owner:"-",sort_dir:this.stateModel.get("sortDirection"),sort_key:this.stateModel.get("sortKey").split(","),sort_mode:["natural","natural"],search:search,count:this.stateModel.get("count"),listDefaultActionArgs:!0,offset:this.stateModel.get("offset"),show_all_embedded_tokens:"1"},excludeAlerts:!0,success:function(){this.reportsCollection.touched||this.stateModel.set("fetching",!1)}.bind(this)})}}),module.exports=exports.default}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},851:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(11)(),exports.push([module.id,".search-input .search-label{float:left;width:160px;padding-bottom:5px;padding-top:5px;text-align:right}.search-input .shared-searchbarinput{padding-bottom:10px;margin-left:180px}.shared-documentcontrols-dialogs-editsearchdialog .control.shared-controls-textcontrol input{padding-right:6px}",""])},852:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(11)(),exports.push([module.id,"a.dropdown-toggle.searchable-dropdown{white-space:nowrap;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-pack:center;justify-content:center}a.dropdown-toggle.searchable-dropdown .caret,a.dropdown-toggle.searchable-dropdown .dropdown-label-container,a.dropdown-toggle.searchable-dropdown>i{display:inline-block;vertical-align:middle;-ms-flex:0 0 auto;flex:0 0 auto}a.dropdown-toggle.searchable-dropdown>i{margin-right:3px}a.dropdown-toggle.searchable-dropdown .dropdown-label-container{overflow:hidden;text-overflow:ellipsis;-ms-flex:0 1 auto;flex:0 1 auto}.dropdown-menu-searchable .search-filter .search-query{margin:0}.dropdown-menu-searchable .search-filter .shared-controls-textcontrol{margin:4px}.dropdown-menu-searchable .info{margin:5px 4px;text-align:center}.dropdown-menu-searchable .menu-options li:first-child>a{border-top:none}",""])},853:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(11)(),exports.push([module.id,".key-value-separator{float:left;padding-right:10px;padding-top:5px}",""])},854:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(11)(),exports.push([module.id,".shared-reportcontrols-dialogs-summaryindexingdialog-addfieldssection{margin-left:20px}.shared-reportcontrols-dialogs-summaryindexingdialog-addfieldssection .field-label{float:left;width:140px;text-align:right}.shared-reportcontrols-dialogs-summaryindexingdialog-addfieldssection .fields-section{margin-left:160px}.shared-reportcontrols-dialogs-summaryindexingdialog-addfieldssection .fields-section .shared-reportcontrols-dialogs-summaryindexingdialog-newfieldrow{padding-bottom:10px}.shared-reportcontrols-dialogs-summaryindexingdialog-addfieldssection .fields-section .shared-reportcontrols-dialogs-summaryindexingdialog-newfieldrow .icon-x-circle{line-height:26px;font-size:16px;color:#999;cursor:pointer}",""])},855:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(11)(),exports.push([module.id,".shared-reportcontrols-dialogs-embeddialog-embed textarea{width:90%;height:80px;word-break:break-all}",""])},856:function(module,exports){module.exports='<div class="tile-shape">\n    <div class="tile-icon"><%= icon %></div>\n    <div class="tile-name"><%- name %></div>\n    <div class="tile-actions">\n    \t<% if (showGear) { %>\n        \t<a class="action-edit" href="#"><i class="icon-large icon-gear"></i> <span class="caret"></span></a>\n        <% } %>\n        <div class="action-buttons">\n            <a class="btn action-open" href="<%= reportLink %>"><%- _("Open").t() %></a>\n            <a class="btn action-search" href="<%= searchLink %>"><%- _("Open in Search").t() %></a>\n        </div>\n    </div>\n</div>\n'},"views/shared/reportcontrols/dialogs/clone_dialog/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),__webpack_require__("views/shared/Modal"),module,__webpack_require__("models/search/Report"),__webpack_require__("models/search/Dashboard"),__webpack_require__("models/ACLReadOnly"),__webpack_require__("views/shared/reportcontrols/dialogs/clone_dialog/Clone"),__webpack_require__("views/shared/reportcontrols/dialogs/clone_dialog/Success"),__webpack_require__("views/shared/reportcontrols/dialogs/dashboardpanel/Create"),__webpack_require__("views/shared/reportcontrols/dialogs/dashboardpanel/Success")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,Backbone,Modal,module,ReportModel,DashboardModel,ACLReadOnlyModel,Clone,Success,CreateDashboardPanel,SuccessDashboardPanel){return Modal.extend({moduleId:module.id,initialize:function(){Modal.prototype.initialize.apply(this,arguments);var chooseVisualizationType=!this.options.hasOwnProperty("chooseVisualizationType")||this.options.chooseVisualizationType;this.model.defaultReport=new ReportModel,this.defDefaultReport=this.model.defaultReport.fetch(),this.model.inmem=this.model.report.clone(),this.model.acl=new ACLReadOnlyModel($.extend(!0,{},this.model.report.entry.acl.toJSON())),this.model.dashboardToSave=new DashboardModel,this.model.dasboardInmem=new Backbone.Model({dashPerm:"private",panelContent:"table",dashCreateType:"new",panelInline:!1}),this.children.clone=new Clone({model:{report:this.model.report,defaultReport:this.model.defaultReport,application:this.model.application,inmem:this.model.inmem,acl:this.model.acl,serverInfo:this.model.serverInfo,user:this.model.user},collection:{appLocals:this.collection.appLocals}}),this.children.success=new Success({model:{application:this.model.application,report:this.model.report,inmem:this.model.inmem,user:this.model.user}}),this.children.createDashboardPanel=new CreateDashboardPanel({model:{report:this.model.inmem,application:this.model.application,searchJob:this.model.searchJob,dashboardToSave:this.model.dashboardToSave,inmem:this.model.dasboardInmem,user:this.model.user,serverInfo:this.model.serverInfo},chooseVisualizationType:chooseVisualizationType}),this.children.successDashboardPanel=new SuccessDashboardPanel({model:{dashboardToSave:this.model.dashboardToSave,inmem:this.model.dasboardInmem,application:this.model.application}}),this.model.inmem.on("createSuccess",function(){this.children.clone.$el.hide(),this.children.success.render().appendTo(this.$el)},this),this.model.dasboardInmem.on("createSuccess",function(){this.children.createDashboardPanel.$el.hide(),this.children.successDashboardPanel.$el.show()},this),this.children.success.on("addToDashboardPanel",function(){this.children.clone.$el.hide(),this.children.success.$el.hide(),this.children.createDashboardPanel.render().appendTo(this.$el),this.children.successDashboardPanel.render().appendTo(this.$el),this.children.createDashboardPanel.$el.show(),this.children.successDashboardPanel.$el.hide()},this),this.on("hidden",function(){this.model.inmem.isNew()||this.model.report.trigger("updateCollection")},this)},render:function(){return $.when(this.defDefaultReport).then(function(){this.children.clone.render().appendTo(this.$el)}.bind(this)),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/dialogs/clone_dialog/Clone":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,Base,Modal,ControlGroup,FlashMessagesV2,splunkd_utils){return Base.extend({moduleId:module.id,initialize:function(options){Base.prototype.initialize.apply(this,arguments),this.model.inmem.unset("id"),this.model.inmem.set({clonePermissions:!1}),this.model.inmem.entry.content.set({name:this.model.inmem.entry.get("name")+_(" Clone").t()}),this.canShowAppSelector=this.model.user&&_.isFunction(this.model.user.canUseApps)&&this.model.user.canUseApps(),this.children.flashMessage=new FlashMessagesV2({model:this.model.inmem}),this.children.titleField=new ControlGroup({controlType:"Text",controlOptions:{modelAttribute:"name",model:this.model.inmem.entry.content},label:_("New Title").t()}),this.children.descriptionField=new ControlGroup({controlType:"Textarea",controlOptions:{modelAttribute:"description",model:this.model.inmem.entry.content,placeholder:_("optional").t()},label:_("New Description").t()}),this.canShowAppSelector&&(this.children.selectApp=new ControlGroup({label:_("App").t(),controlType:"SyntheticSelect",controlOptions:{modelAttribute:"app",model:this.model.inmem.entry.acl,toggleClassName:"btn",items:[],popdownOptions:{detachDialog:!0}}}),this.setAppItems()),this.children.clonePermissionsControl=new ControlGroup({controlType:"SyntheticRadio",controlOptions:{modelAttribute:"clonePermissions",model:this.model.inmem,items:[{label:_("Private").t(),value:!1},{label:_("Clone").t(),value:!0}],save:!1,toggleClassName:"btn",labelPosition:"outside",elastic:!0},label:_("Permissions").t()}),this.children.help=new ControlGroup({controlType:"Label",controlOptions:{defaultValue:""},help:_("Acceleration will be disabled (you can enable it again later).").t()})},events:{"click .btn-primary":function(e){this.model.inmem.entry.content.set("auto_summarize",!1),this.model.inmem.entry.content.set("embed.enabled",0);var clonePermissions=this.model.inmem.get("clonePermissions"),data={app:this.canShowAppSelector?this.model.inmem.entry.acl.get("app"):this.model.application.get("app")};data.owner=clonePermissions&&this.model.acl.get("sharing")!==splunkd_utils.USER?splunkd_utils.NOBODY:this.model.application.get("owner"),this.model.inmem.save({},{data:data,success:function(model,response){if(clonePermissions){var data=this.model.acl.toDataPayload();data.owner=this.model.application.get("owner"),this.model.inmem.acl.save({},{data:data,success:function(model,response){this.model.inmem.trigger("createSuccess")}.bind(this)})}else this.model.inmem.trigger("createSuccess")}.bind(this)}),e.preventDefault()}},setAppItems:function(){var items=this.buildAppItems(),selectedValue=this.model.inmem.entry.acl.get("app");"system"===selectedValue&&(selectedValue=_.where(items,{value:"search"}).length?"search":items[0].value),this.children.selectApp.childList&&(this.children.selectApp.childList[0].setItems(items),this.children.selectApp.childList[0].setValue(selectedValue))},buildAppItems:function(){var items=[];return this.collection.appLocals.each(function(app){app.entry.acl.get("can_write")&&items.push({value:app.entry.get("name"),label:app.getLabel()})}),_.sortBy(items,function(item){return(item.label||"").toLowerCase()})},render:function(){this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Clone").t()),this.children.flashMessage.render().prependTo(this.$(Modal.BODY_SELECTOR)),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL_JUSTIFIED),this.children.titleField.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.descriptionField.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.selectApp&&this.children.selectApp.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR));var sharing=this.model.acl.get("sharing");return(sharing===splunkd_utils.APP&&this.model.defaultReport.entry.acl.get("can_share_app")||sharing===splunkd_utils.GLOBAL&&this.model.defaultReport.entry.acl.get("can_share_global"))&&this.children.clonePermissionsControl.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.help&&this.children.help.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary">'+_("Clone Report").t()+"</a>"),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/dialogs/clone_dialog/Success":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("uri/route"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,Base,Modal,FlashMessages,route,splunkUtil){return Base.extend({moduleId:module.id,initialize:function(options){Base.prototype.initialize.apply(this,arguments),this.children.flashMessage=new FlashMessages({model:this.model.inmem})},events:{"click .createDashboard":function(e){this.trigger("addToDashboardPanel"),e.preventDefault()},"click .routeToReport":function(e){window.location=route.report(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{s:this.model.inmem.id}}),e.preventDefault()},"click .routeToPermissions":function(e){window.location=route.report(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{s:this.model.inmem.id,dialog:"permissions"}}),e.preventDefault()},"click .routeToSchedule":function(e){window.location=route.report(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{s:this.model.inmem.id,dialog:"schedule"}}),e.preventDefault()},"click .routeToAccleration":function(e){window.location=route.report(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{s:this.model.inmem.id,dialog:"acceleration"}}),e.preventDefault()},"click .routeToEmbed":function(e){window.location=route.report(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{s:this.model.inmem.id,dialog:"embed"}}),e.preventDefault()},"click .openInCreator":function(e){var openRoute=this.model.inmem.openInView(this.model.user),view=route.getView(openRoute);window.location=view.route(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{s:this.model.inmem.id}}),e.preventDefault()}},render:function(){var canChangePerms=this.model.inmem.entry.acl.get("can_change_perms"),canScheduleSearch=this.model.user.canScheduleSearch(),canAccelerateReport=this.model.user.canAccelerateReport(),isRealTimeSearch=this.model.inmem.isRealTime(),isPivot=this.model.inmem.isPivotReport(),canEmbed=this.model.user.canEmbed(),openInView=this.model.inmem.openInView(this.model.user),view=route.getView(openInView);return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Report has been cloned").t()),this.$(Modal.BODY_SELECTOR).html(this.compiledTemplate({_:_,splunkUtil:splunkUtil,canChangePerms:canChangePerms,canScheduleSearch:canScheduleSearch,canAccelerateReport:canAccelerateReport,isRealTimeSearch:isRealTimeSearch,isPivot:isPivot,canEmbed:canEmbed})),this.children.flashMessage.render().prependTo(this.$(Modal.BODY_SELECTOR)),canChangePerms||canScheduleSearch&&(!isRealTimeSearch||!isPivot)?this.$("span.clone-report-success-message").text(_("You may now view your report, add it to a dashboard, change additional settings, or edit it.").t()):(this.$("span.clone-report-success-message").text(_("You may now view your report, add it to a dashboard, or edit it.").t()),this.$("p.additional-settings").remove()),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn createDashboard">'+_("Add to Dashboard").t()+"</a>"),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn openInCreator">'+view.openLabel+"</a>"),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary routeToReport">'+_("View").t()+"</a>"),this},template:'\t            <p>\t                <span class="clone-report-success-message"></span>\t            </p>\t            <p class="additional-settings">\t            <%- _("Additional Settings:").t() %>\t                <ul>\t                    <% if (canChangePerms) { %>\t                        <li><a href="#" class="routeToPermissions"><%- _("Permissions").t() %></a></li>\t                    <% } %>\t                    <% if (!isRealTimeSearch && canScheduleSearch) { %>\t                        <li><a href="#" class="routeToSchedule"><%- _("Schedule").t() %></a></li>\t                    <% } %>\t                    <% if (!isPivot && canAccelerateReport) { %>\t                        <li><a href="#" class="routeToAccleration"><%- _("Acceleration").t() %></a></li>\t                    <% } %>\t                    <% if (!isRealTimeSearch && canScheduleSearch && canEmbed) { %>\t                        <li><a href="#" class="routeToEmbed"><%- _("Embed").t() %></a></li>\t                    <% } %>\t                <ul>\t            </p>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/dialogs/dashboardpanel/Create":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("require/backbone"),__webpack_require__("models/search/Dashboard"),__webpack_require__("models/services/search/IntentionsParser"),__webpack_require__("collections/shared/Dashboards"),__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/controls/TextControl"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/delegates/PairedTextControls"),__webpack_require__("util/splunkd_utils"),__webpack_require__("shim/splunk.util"),__webpack_require__("helpers/VisualizationRegistry"),__webpack_require__("dashboard/serializer/DashboardSerializer")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,Backbone,DashboardModel,IntentionsParser,DashboardsCollection,Base,ControlGroup,TextControl,FlashMessage,Modal,PairedTextControls,splunkd_utils,splunkUtils,VisualizationRegistry,DashboardSerializer){return Base.extend({moduleId:module.id,initialize:function(){Base.prototype.initialize.apply(this,arguments);var viz_type=VisualizationRegistry.findVisualizationForConfig(this.model.report.entry.content.toJSON());this.collection=this.collection||{},this.intentionsDeferred=$.Deferred(),!this.model.searchJob||this.model.searchJob.isNew()?(this.model.reportSearchIntentionsParser=new IntentionsParser,this.intentionsDeferred=this.model.reportSearchIntentionsParser.fetch({data:{q:this.model.report.entry.content.get("search"),parse_only:!0,app:this.model.application.get("app"),owner:this.model.application.get("owner")}})):this.intentionsDeferred.resolve(),this.collection.safeDashboardsCollection=new DashboardsCollection,this.children.flashMessage=new FlashMessage({model:{dashboard:this.model.dashboardToSave}}),this.children.dashCreateType=new ControlGroup({label:_("Dashboard").t(),controlType:"SyntheticRadio",controlOptions:{additionalClassNames:"btn-group-2",items:[{value:"new",label:_("New").t()},{value:"existing",label:_("Existing").t()}],model:this.model.inmem,modelAttribute:"dashCreateType"}}),this.children.dashTitleTextControl=new TextControl({model:this.model.inmem,modelAttribute:"dashTitle",ariaLabel:_("Dashboard Title").t(),placeholder:_("optional").t()}),this.children.dashNameTextControl=new TextControl({model:this.model.inmem,modelAttribute:"dashName",ariaLabel:_("Dashboard ID").t()}),this.pairedTextControls=new PairedTextControls({sourceDelegate:this.children.dashTitleTextControl,destDelegate:this.children.dashNameTextControl,transformFunction:splunkd_utils.nameFromString}),this.children.dashTitle=new ControlGroup({label:_("Dashboard Title").t(),controls:this.children.dashTitleTextControl}),this.children.dashName=new ControlGroup({label:_("Dashboard ID").t(),controls:this.children.dashNameTextControl,tooltip:_("The ID is used as the filename on disk. Cannot be changed later.").t(),help:_("Can only contain letters, numbers and underscores.").t()}),this.children.dashDesc=new ControlGroup({label:_("Dashboard Description").t(),controlType:"Textarea",controlOptions:{model:this.model.inmem,modelAttribute:"dashDesc",ariaLabel:_("Dashboard Description").t(),placeholder:_("optional").t()}});var sharedLabel=this.model.user.canUseApps()?_("Shared in App").t():_("Shared").t();this.children.dashPerm=new ControlGroup({label:_("Dashboard Permissions").t(),controlType:"SyntheticRadio",controlOptions:{additionalClassNames:"btn-group-2 locale-responsive-layout",items:[{value:"private",label:_("Private").t()},{value:"shared",label:sharedLabel}],model:this.model.inmem,modelAttribute:"dashPerm"}}),this.existingDashDeferred=this.collection.safeDashboardsCollection.fetchSafe({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner"),"eai:acl.app":this.model.application.get("app"),search:'(rootNode="dashboard" OR rootNode="form")'}}),$.when(this.existingDashDeferred).then(function(){this.children.existingDash=new ControlGroup({label:"",controlType:"SyntheticSelect",controlOptions:{additionalClassNames:"view-count",toggleClassName:"btn",model:this.model.inmem,modelAttribute:"existingDash",items:this.collection.safeDashboardsCollection.map(function(dashboard){return{value:dashboard.id,label:dashboard.getLabel()||dashboard.entry.get("name")}}),popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}}})}.bind(this)),this.children.panelTitle=new ControlGroup({label:_("Panel Title").t(),controlType:"Text",controlOptions:{model:this.model.inmem,modelAttribute:"panelTitle",ariaLabel:_("Panel Title").t(),placeholder:_("optional").t()}});var poweredByReportTooltip=_("Uses the report. Retains all report metadata such as schedule, acceleration and permissions.").t();this.children.panelInline=new ControlGroup({label:_("Panel Powered By").t(),controlType:"SyntheticRadio",controlOptions:{additionalClassNames:"locale-responsive-layout",items:[{value:!0,label:_("Inline Search").t(),icon:"search",iconSize:"",tooltip:_("Clones the report's search string and time range. The inline search exists only in the dashboard and has no external dependencies.").t()},{value:!1,label:_("Report").t(),icon:"report",iconSize:"",tooltip:poweredByReportTooltip}],model:this.model.inmem,modelAttribute:"panelInline"}}),this.children.panelInlineOnly=new ControlGroup({label:_("Panel Powered By").t(),controlType:"Label",tooltip:_("The inline search exists only in the dashboard and has no external dependencies.").t(),controlOptions:{defaultValue:_("Inline Search").t(),icon:"search",modelAttribute:"panelInline"}}),viz_type||(viz_type={label:_("Unknown").t(),icon:""}),this.children.panelContent=new ControlGroup({label:_("Panel Content").t(),controlType:"SyntheticRadio",controlOptions:{additionalClassNames:"locale-responsive-layout",items:[{value:"table",label:_("Statistics").t(),icon:"table",iconSize:""},{value:"chart",label:viz_type.label,icon:viz_type.icon,iconSize:""}],model:this.model.inmem,modelAttribute:"panelContent"}}),this.children.panelStatsOnly=new ControlGroup({label:_("Panel Content").t(),controlType:"Label",controlOptions:{defaultValue:_("Statistics Table").t(),icon:"table",modelAttribute:"panelContent"}}),this.children.panelEventsOnly=new ControlGroup({label:_("Panel Content").t(),controlType:"Label",controlOptions:{defaultValue:_("Events").t(),icon:"list",modelAttribute:"panelContent"}}),this.children.panelDrilldown=new ControlGroup({label:_("Drilldown").t(),controlType:"Label",tooltip:_('Drilldown is disabled when you save a visualization to a dashboard. After saving, open the dashboard editor to access configuration options for the visualization. Click "Edit Drilldown" to enable and configure drilldown.').t(),controlOptions:{defaultValue:_("No action").t(),modelAttribute:"panelDrilldown"}}),this.listenTo(this.model.inmem,"change:dashCreateType",function(){var dashType=this.model.inmem.get("dashCreateType");"new"===dashType?(this.$(".existingDash").hide(),this.$(".newDash").show()):(this.$(".newDash").hide(),this.$(".existingDash").show())}),this.listenTo(this.model.report,"change:"+this.model.report.idAttribute,this.handlePanelInlineControlVisibility)},events:{"click .modal-btn-primary":function(e){this.submit(),e.preventDefault()}},render:function(){this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Save As Dashboard Panel").t()),this.children.flashMessage.render().prependTo(this.$(Modal.BODY_SELECTOR)),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.$(Modal.BODY_FORM_SELECTOR).append(this.compiledTemplate({_:_})),this.children.dashCreateType.render().prependTo(this.$(".dashboard"));var $newDash=this.$(".newDash");this.children.dashTitle.render().appendTo($newDash),this.children.dashName.render().appendTo($newDash),this.children.dashDesc.render().appendTo($newDash),this.model.report.entry.acl.get("can_share_app")&&this.children.dashPerm.render().appendTo($newDash);var $dashboardPanel=this.$(".dashboardPanel");this.children.panelTitle.render().appendTo($dashboardPanel),this.children.panelInlineOnly.render().appendTo($dashboardPanel),this.children.panelInline.render().appendTo($dashboardPanel),this.handlePanelInlineControlVisibility(),this.children.panelDrilldown.render().appendTo($dashboardPanel);var showViz=splunkUtils.normalizeBoolean(this.model.report.entry.content.get("display.visualizations.show")),showStats=splunkUtils.normalizeBoolean(this.model.report.entry.content.get("display.statistics.show"));return showViz&&showStats?this.model.inmem.set({panelContent:"chart"}):showStats?this.model.inmem.set({panelContent:"table"}):this.model.inmem.set({panelContent:"chart"}),$.when(this.intentionsDeferred).then(function(){if(this.model.searchJob&&this.model.searchJob.isReportSearch()||this.model.reportSearchIntentionsParser&&this.model.reportSearchIntentionsParser.isReportsSearch()){var currentTab=this.model.report.entry.content.get("display.general.type");"visualizations"===currentTab?(this.model.inmem.set({panelContent:"chart"}),this.children.panelContent.render().appendTo($dashboardPanel)):(this.model.inmem.set({panelContent:"table"}),this.children.panelStatsOnly.render().appendTo($dashboardPanel));
}else this.children.panelEventsOnly.render().appendTo($dashboardPanel),this.model.inmem.set("panelContent","event")}.bind(this)),$.when(this.existingDashDeferred).then(function(){this.collection.safeDashboardsCollection.length?this.children.existingDash.render().replaceContentsOf(this.$(".existingDash")):this.$(".existingDash").html(splunkUtils.sprintf('<div class="alert alert-warning"><i class="icon-alert"></i>'+_("You have no writable dashboards for the app: %s").t()+"</div>",this.model.application.get("app")))}.bind(this)),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_SAVE),this},focus:function(){this.$("input:first").focus()},handlePanelInlineControlVisibility:function(){this.model.report.isNew()?(this.children.panelInlineOnly.show(),this.children.panelInline.hide()):(this.children.panelInline.show(),this.children.panelInlineOnly.hide())},submit:function(){var existingDashModel,dashType=this.model.inmem.get("dashCreateType"),existingDash=this.model.inmem.get("existingDash"),dashLabel=this.model.inmem.get("dashTitle"),dashName=this.model.inmem.get("dashName"),dashDesc=this.model.inmem.get("dashDesc"),dashPerm=this.model.inmem.get("dashPerm"),panelTitle=this.model.inmem.get("panelTitle"),panelContent=this.model.inmem.get("panelContent"),panelInline=this.model.inmem.get("panelInline"),data={},existingDashDeferred=$.Deferred();this.model.dashboardToSave.clear(),"new"===dashType?(dashLabel&&this.model.dashboardToSave.setLabel(dashLabel),dashDesc&&this.model.dashboardToSave.setDescription(dashDesc),this.model.dashboardToSave.entry.content.set("name",dashName),data=this.model.application.getPermissions(dashPerm),existingDashDeferred.resolve()):(existingDashModel=this.collection.safeDashboardsCollection.get(existingDash)||this.collection.safeDashboardsCollection.at(0),existingDashModel?existingDashModel.fetch({success:function(){this.model.dashboardToSave.entry.content.set(existingDashModel.entry.content.toJSON()),this.model.dashboardToSave.set("id",existingDashModel.id),existingDashDeferred.resolve()}.bind(this),error:function(){this.model.dashboardToSave.trigger("error",this.model.dashboardToSave,splunkd_utils.createSplunkDMessage(splunkd_utils.ERROR,_("The dashboard you selected no longer exists.").t())),existingDashDeferred.reject()}.bind(this)}):(this.model.dashboardToSave.trigger("error",this.model.dashboardToSave,splunkd_utils.createSplunkDMessage(splunkd_utils.ERROR,_("You must select an existing dashboard.").t())),existingDashDeferred.reject())),existingDashDeferred.done(function(){var $XML=this.model.dashboardToSave.get$XML(),reportProperties=this.model.report.entry.content.toJSON({tokens:!0}),$newXML=DashboardSerializer.addReportToDashboard(reportProperties,$XML,{searchType:panelInline?"inline":"saved",searchName:this.model.report.entry.get("name"),panelTitle:panelTitle,vizType:"table"==panelContent?panelContent:null,omitHeight:!0});this.model.dashboardToSave.set$XML($newXML),this.model.dashboardToSave.save({},{data:data,success:function(model,response){this.model.inmem.trigger("createSuccess")}.bind(this)})}.bind(this))},template:'\t                <div class="dashboard">\t                    <div class="newDash">\t                    </div>\t                    <div class="existingDash" style="display:none">\t                        <%- _("waiting for data...").t() %>\t                    </div>\t                </div>\t                <hr/>\t                <div class="dashboardPanel">\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/delegates/PairedTextControls":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("views/shared/controls/TextControl"),__webpack_require__("views/shared/delegates/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,TextControl,DelegateBase){return DelegateBase.extend({transformFunction:void 0,initialize:function(options){if(options=options||{},this.sourceDelegate=options.sourceDelegate,this.destDelegate=options.destDelegate,this.transformFunction=options.transformFunction,!(this.sourceDelegate instanceof TextControl&&this.destDelegate instanceof TextControl))throw new Error("SourceDelegate and destDelegate must be TextControls");this.enablePairing()},enablePairing:function(){this.sourceDelegate.on("keyup",this.sourceChangeHandler,this),this.destDelegate.on("keyup",this.destChangeHandler,this)},disablePairing:function(){this.sourceDelegate.off("keyup",this.sourceChangeHandler,this)},sourceChangeHandler:function(e,value){var destValue=value;this.transformFunction&&(destValue=this.transformFunction(value)),this.destDelegate.setValue(destValue)},destChangeHandler:function(e,value){9!=e.keyCode&&16!=e.keyCode&&(this.disablePairing(),this.destDelegate.off("keyup",this.destChangeHandler))}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"dashboard/serializer/DashboardSerializer":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("util/general_utils"),__webpack_require__("util/console"),__webpack_require__("util/xml"),__webpack_require__("controllers/dashboard/helpers/ReportModelHelper"),__webpack_require__("dashboard/serializer/RowColumnSerializer"),__webpack_require__("dashboard/serializer/ElementSerializer"),__webpack_require__("dashboard/serializer/SearchSerializer"),__webpack_require__("dashboard/serializer/EventManagerSerializer")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,GeneralUtils,console,XML,ReportModelHelper,RowColumnSerializer,ElementSerializer,SearchSerializer,EventManagerSerializer){function addReportToDashboard(reportProperties,$xml,options){options||(options={}),_.defaults(options,{tokens:!0});var $panel=RowColumnSerializer.appendPanelNode($xml,options),extendedReportProps=_.extend({},reportProperties,ReportModelHelper.getDisabledDrilldownAttribute(reportProperties)),$element=ElementSerializer.createElementNodeFromReport(null,extendedReportProps,options),searchSettings="saved"===options.searchType?createSavedSearchSettings(options):createInlineSearchSettings(reportProperties),$search=SearchSerializer.createSearchNodeFromSetting(null,searchSettings,options);return $search.prependTo($element),$element.appendTo($panel),$xml}function createInlineSearchSettings(reportProperties){return{searchType:"inline",earliest_time:reportProperties["dispatch.earliest_time"]||void 0,latest_time:reportProperties["dispatch.latest_time"]||void 0,search:formatSearch(reportProperties.search),sampleRatio:reportProperties["dispatch.sample_ratio"]}}function createSavedSearchSettings(options){var settings={searchType:"saved",name:options.searchName};return options.overrideTimeRange&&_.extend(settings,{earliest_time:options.overrideTimeRange.earliest_time,latest_time:options.overrideTimeRange.latest_time}),settings}function applyDashboardState(state,xml,options){options=_.extend({tokens:!0,forceDirty:!1,addGlobalSearches:!1},options);var $xml=XML.parse(xml);if($xml=migrateViewType($xml,state.inputs.empty()?"dashboard":"form"),(state.dashboard.isDirty()||options.forceDirty)&&applyLabelAndDescription($xml,state.dashboard.getState(),options),RowColumnSerializer.applyRowColumnLayout(XML.root($xml),state,_.extend({flagUsedSearchStates:options.addGlobalSearches},options)),options.addGlobalSearches){var globalSearches=_(state.searches.getStates()).filter(function(searchState){return!searchState.usedFlag});_(globalSearches).each(function(globalSearch){insertGlobalSearchNode($xml,SearchSerializer.createSearchNode(globalSearch,state,options))})}else moveGlobalSearches($xml);var evtManagerId=state.dashboard.getState().evtmanagerid;return evtManagerId&&EventManagerSerializer.updateEventNodes($xml,state.events.get(evtManagerId),state,options),XML.serializeDashboardXML($xml,!0)}function applyLabelAndDescription($xml,dashboardState,options){var root=XML.root($xml),newLabel=dashboardState.label,newDescription=dashboardState.description,rootNodeName=root[0].nodeName,labelNode=root.find(rootNodeName+">label");labelNode.length||(labelNode=XML.$node("<label/>"),labelNode.prependTo(root)),labelNode.text(newLabel);var descriptionNode=root.find(rootNodeName+">description");descriptionNode.length||(descriptionNode=XML.$node("<description/>"),descriptionNode.insertAfter(labelNode)),newDescription?descriptionNode.text(newDescription):descriptionNode.remove()}function moveGlobalSearches($xml){var root=XML.root($xml),searches=root.find("row>panel>search");searches.length&&insertGlobalSearchNode($xml,searches)}function insertGlobalSearchNode($xml,$globalSearch){XML.inject({node:$globalSearch,container:XML.root($xml),where:"after",selectors:["description","label"],fallback:"prepend"})}function migrateViewType($xml,tagName){if(isViewOfType($xml,tagName))return $xml;var curRoot=XML.root($xml),newXML=XML.parse("<"+tagName+"/>"),newRoot=XML.root(newXML),cur=curRoot[0];return _(cur.attributes).each(function(attr){newRoot.attr(attr.nodeName,attr.nodeValue)}),XML.moveChildren(curRoot,newRoot),newXML}function isViewOfType($xml,tagName){var curRoot=XML.root($xml);return curRoot.prop("tagName")===tagName}function formatSearch(query){return(query||"").replace(/\$/gi,"$$$$")}return{addReportToDashboard:addReportToDashboard,applyDashboardState:applyDashboardState,_createInlineSearchSettings:createInlineSearchSettings,_createSavedSearchSettings:createSavedSearchSettings}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"controllers/dashboard/helpers/ReportModelHelper":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(445),__webpack_require__(36)],__WEBPACK_AMD_DEFINE_RESULT__=function(exports,_defineProperty2){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.transferDrilldown=exports.disabledDrilldownSet=exports.enabledDrilldownSet=exports.getDisabledDrilldownAttribute=exports.getEnabledDrilldownAttribute=exports.getDrilldownPropertyValue=exports.getDrilldownPropertyKey=exports.isDrilldownSupported=void 0;var _defineProperty3=_interopRequireDefault(_defineProperty2),isDrilldownSupported=exports.isDrilldownSupported=function(content){var generalType=content["display.general.type"],subType=content["display."+generalType+".type"],isGauge="charting"===subType&&("radialGauge"===content["display."+generalType+"."+subType+".chart"]||"fillerGauge"===content["display."+generalType+"."+subType+".chart"]||"markerGauge"===content["display."+generalType+"."+subType+".chart"]);return!isGauge},getDrilldownPropertyKey=exports.getDrilldownPropertyKey=function(content){var generalType=content["display.general.type"];if("statistics"===generalType)return"display."+generalType+".drilldown";var subType=content["display."+generalType+".type"];if(!subType)throw Error("cannot find drilldown property key");return"display."+generalType+"."+subType+".drilldown"},enabledDrilldownSet=(exports.getDrilldownPropertyValue=function(content){return content[getDrilldownPropertyKey(content)]},exports.getEnabledDrilldownAttribute=function(content){if(!isDrilldownSupported(content))return{};var key=getDrilldownPropertyKey(content);switch(key){case"display.events.raw.drilldown":case"display.events.list.drilldown":return(0,_defineProperty3.default)({},key,"full");case"display.events.table.drilldown":return(0,_defineProperty3.default)({},key,"1");case"display.statistics.drilldown":return(0,_defineProperty3.default)({},key,"cell");default:return(0,_defineProperty3.default)({},key,"all")}},exports.getDisabledDrilldownAttribute=function(content){if(!isDrilldownSupported(content))return{};var key=getDrilldownPropertyKey(content);return"display.events.table.drilldown"===key?(0,_defineProperty3.default)({},key,"0"):(0,_defineProperty3.default)({},key,"none")},exports.enabledDrilldownSet={"display.events.list.drilldown":"full","display.events.raw.drilldown":"full","display.events.table.drilldown":"1","display.statistics.drilldown":"all","display.visualizations.charting.drilldown":"all","display.visualizations.singlevalue.drilldown":"all","display.visualizations.mapping.drilldown":"all","display.visualizations.custom.drilldown":"all"}),disabledDrilldownSet=exports.disabledDrilldownSet={"display.events.list.drilldown":"none","display.events.raw.drilldown":"none","display.events.table.drilldown":"0","display.statistics.drilldown":"none","display.visualizations.charting.drilldown":"none","display.visualizations.singlevalue.drilldown":"none","display.visualizations.mapping.drilldown":"none","display.visualizations.custom.drilldown":"none"};exports.transferDrilldown=function(previousReportContent,currentReportContent){if(!isDrilldownSupported(previousReportContent)||!isDrilldownSupported(currentReportContent))return{};var previousDrilldownKey=getDrilldownPropertyKey(previousReportContent),currentDrilldownKey=getDrilldownPropertyKey(currentReportContent),previousDrilldownValue=previousReportContent[previousDrilldownKey],drilldownSet=void 0;if(enabledDrilldownSet[previousDrilldownKey]===previousDrilldownValue)drilldownSet=enabledDrilldownSet;else{if(disabledDrilldownSet[previousDrilldownKey]!==previousDrilldownValue)return{};drilldownSet=disabledDrilldownSet}var currentDrilldownValue=drilldownSet[currentDrilldownKey];return"string"!=typeof currentDrilldownValue?{}:(0,_defineProperty3.default)({},currentDrilldownKey,currentDrilldownValue)}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"dashboard/serializer/RowColumnSerializer":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("util/xml"),__webpack_require__("dashboard/serializer/PanelSerializer"),__webpack_require__("dashboard/serializer/InputSerializer"),__webpack_require__("dashboard/serializer/ElementSerializer"),__webpack_require__("dashboard/serializer/FieldsetSerializer"),__webpack_require__("dashboard/serializer/SerializerHelper")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,XML,PanelSerializer,InputSerializer,ElementSerializer,FieldsetSerializer,SerializerHelper){function applyRowColumnLayout($dashboard,state,options){$dashboard.children("row,fieldset").remove();var layoutState=state.layout.getState(),fieldset=_(layoutState.children).findWhere({type:"fieldset"});fieldset&&$dashboard.append(FieldsetSerializer.createFieldsetNode(state.fieldset,fieldset.children,state,options));var $rows=_(layoutState.children).chain().where({type:"row"}).map(function(row){return createRowNode(state.rows.get(row.id),state,row,options)}).value();$dashboard.append($rows)}function createRowNode(rowState,state,row,options){var $row=null;rowState?($row=XML.$node(rowState.getOriginalXML()||"<row/>").empty(),SerializerHelper.applyPredefinedID($row,rowState)):$row=XML.$tag("row");var $panels=_(row.children).map(function(panel){var inputs=_(panel.children).chain().where({type:"input"}).pluck("id").value(),elements=_(panel.children).chain().where({type:"element"}).pluck("id").value();return PanelSerializer.createPanelNode(state.panels.get(panel.id),inputs,elements,state,options)});return $row.removeAttr("grouping"),$row.append($panels),$row}function appendPanelNode($xml,options){options||(options={});var rowNode=XML.$node("<row/>"),panelNode=XML.$node("<panel/>").appendTo(rowNode);return SerializerHelper.applyTitleNode(panelNode,options.panelTitle),$xml&&$xml.find(":eq(0)").append(rowNode),panelNode}return{appendPanelNode:appendPanelNode,applyRowColumnLayout:applyRowColumnLayout,_createRowNode:createRowNode}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"dashboard/serializer/PanelSerializer":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("util/xml"),__webpack_require__("dashboard/serializer/ElementSerializer"),__webpack_require__("dashboard/serializer/InputSerializer"),__webpack_require__("dashboard/serializer/SerializerHelper")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,XML,ElementSerializer,InputSerializer,SerializerHelper){function createPanelNode(panelState,inputs,elements,state,options){var curSettings=panelState.getState(),$panel=SerializerHelper.getOriginalXMLIfNotDirty(panelState,function(originalXML){var $panel=originalXML?XML.$node(originalXML):XML.$tag("panel");return SerializerHelper.applyTokenDependencies($panel,curSettings),SerializerHelper.applyPredefinedID($panel,panelState),curSettings.ref?($panel.empty(),SerializerHelper.applyAttributes($panel,{ref:curSettings.ref,app:curSettings.app})):SerializerHelper.applyTitleNode($panel,curSettings.title),$panel});if(!curSettings.ref){SerializerHelper.removeInputsAndElements($panel);var $inputs=_(inputs).map(function(input){return InputSerializer.createInputNode(state.inputs.get(input),state,options)}),$elements=_(elements).map(function(element){return ElementSerializer.createElementNode(state.elements.get(element),state,options)});$panel.append($inputs).append($elements)}return panelState.setXML(XML.serialize($panel)),$panel}return{createPanelNode:createPanelNode}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"dashboard/serializer/ElementSerializer":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("splunkjs/mvc/mvc"),__webpack_require__("util/general_utils"),__webpack_require__("util/console"),__webpack_require__("util/xml"),__webpack_require__("controllers/dashboard/helpers/ReportModelHelper"),__webpack_require__("dashboard/DashboardParser"),__webpack_require__("dashboard/serializer/SearchSerializer"),__webpack_require__("splunkjs/mvc/drilldown"),__webpack_require__("shim/splunk.util"),__webpack_require__("models/dashboard/DashboardElementReport"),__webpack_require__("splunkjs/mvc/tokenawaremodel"),__webpack_require__("dashboard/serializer/EventManagerSerializer"),__webpack_require__("dashboard/serializer/SerializerHelper")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,mvc,GeneralUtils,console,XML,ReportModelHelper,DashboardParser,SearchSerializer,DrilldownHelper,SplunkUtil,DashboardElementReport,TokenAwareModel,EventManagerSerializer,SerializerHelper){function createElementNodeFromReport($element,reportProperties,options){var settings=elementSerializerSettings(reportProperties,options);return $element||($element=XML.$tag(settings.type)),$element=updateExistingElementNode($element,settings,options)}function createElementNode(elementState,state,options){if("html"==elementState.getState().type)return createHtmlElementNode(elementState,options);var $element=SerializerHelper.getOriginalXMLIfNotDirty(elementState,function(originalXML){var reportContent=elementState.getState(),$element=createElementNodeFromReport(originalXML?XML.$node(originalXML):null,reportContent,options);return $element},options);_clearElementSearch($element);var searchId=elementState.getState()["dashboard.element.managerid"];if(searchId&&"global"!=searchId){var searchIds=_.isArray(searchId)?searchId:[searchId];_.each(searchIds,function(id){if(state.searches.has(id)){var $search=SearchSerializer.createSearchNode(state.searches.get(id),state,options);XML.inject({node:$search,container:$element,where:"after",selectors:["title"],fallback:"prepend"})}})}var evtManagerId=elementState.getState()["dashboard.element.evtmanagerid"],eventManagerState=state.events.get(evtManagerId);return evtManagerId&&eventManagerState?EventManagerSerializer.updateEventNodes($element,eventManagerState,state,options):EventManagerSerializer.removeEventNodes($element,options),elementState.setXML(XML.serialize($element)),$element}function createHtmlElementNode(elementState,options){return SerializerHelper.getOriginalXMLIfNotDirty(elementState,function(){return XML.$node('<html encoded="1"></html>').text(elementState.getState().html)})}function isGenericOption(optionConfig){if("title"!==optionConfig.name){if("displayview"===optionConfig.reportProperty)return!0;if(0===optionConfig.reportProperty.indexOf("dashboard.element."))return!0}return!1}function applyGenericElementSettings(report,settings,vizType,options){var parserConfig=DashboardParser.getDefault().findNodeDefinitions(function(def){return"element"==def.extends&&def.name==vizType});if(parserConfig.length){var elementConfig=parserConfig[0];_(elementConfig.options).each(function(optionConfig){if(isGenericOption(optionConfig)){var value=report.get(optionConfig.reportProperty,options);null!=value&&(settings.options[optionConfig.name]=value)}})}}function elementSerializerSettings(reportContent,options){options||(options={});var vizType=options.vizType||DashboardElementReport.getVizTypeFromReportContent(reportContent),settings={type:vizType,title:reportContent["dashboard.element.title"],options:{},tags:{}};if(options){var reportContentToApply;if("saved"==options.searchType){if(ReportModelHelper.isDrilldownSupported(reportContent)){var drilldownKey=ReportModelHelper.getDrilldownPropertyKey(reportContent);reportContentToApply=_.pick(reportContent,drilldownKey)}}else reportContentToApply=reportContent;var applyTypeSettings=TypeMapper[vizType];if(applyTypeSettings){var model=new TokenAwareModel(reportContentToApply,options);applyGenericElementSettings(model,settings,vizType,options),applyTypeSettings(model,settings,options)}}return settings}function updateExistingElementNode(curNode,settings,options){var newNode=XML.$tag(settings.type);if(settings.search){var nodeDefs=DashboardParser.getDefault().findNodeDefinitions(function(def){return"search-eventhandler"===def.extends}),selector=_(nodeDefs).chain().pluck("tagName").unique().value().join(","),searchEventHandlerNodes=$(curNode).children("search").children(selector).detach();searchEventHandlerNodes.length&&(settings.search=_.extend({eventHandlerNodes:searchEventHandlerNodes},settings.search))}return XML.moveChildren(curNode,newNode),_(["id","depends","rejects"]).each(function(attr){var val=$(curNode).attr(attr);val&&newNode.attr(attr,val)}),updateElementNode(newNode,settings,options)}function updateElementNode(elementNode,settings,options){return options&&options.clearOptions&&(elementNode.children("option").remove(),delete settings.options),settings.tokenDependencies&&_(["depends","rejects"]).each(function(prop){var val=settings.tokenDependencies[prop];val&&elementNode.attr(prop,val)}),_applyElementTitle(elementNode,settings),settings.search&&"global"!==settings.search.type&&_applyElementSearch(elementNode,settings),_applyElementOptions(elementNode,settings),_applyFormatOptions(elementNode,settings),_applySparklineOptions(elementNode,settings),_applyElementTags(elementNode,settings),_applyElementAttributes(elementNode,settings),elementNode.children("drilldown").detach().appendTo(elementNode),elementNode}function eachPropertySorted(object,iteratee){object&&_.each(_.keys(object).sort(),function(key){iteratee(object[key],key,object)})}function _applyElementAttributes(newNode,settings){settings.attributes&&eachPropertySorted(settings.attributes,function(value,name){newNode.attr(name,value)})}function _applyElementTitle(newNode,settings){var titleNode=newNode.find("title");settings.title?(titleNode.length||(titleNode=XML.$node("<title/>").prependTo(newNode)),titleNode.text(settings.title)):titleNode.remove()}function _applyElementTags(newNode,settings){settings.tags&&eachPropertySorted(settings.tags,function(value,tag){newNode.find(tag).remove(),(_.isArray(value)&&value.length||value)&&XML.$node("<"+tag+"/>").text(value).appendTo(newNode)})}function _allowEmpty(optionName){return _.contains(["charting.legend.masterLegend"],optionName)}function _applyElementOptions(newNode,settings){newNode.find("option").remove(),settings.options&&(console.log("Applying options",settings.options),eachPropertySorted(settings.options,function(value,name){var curOption=newNode.find('option[name="'+name+'"]');""===value&&!_allowEmpty(name)||null==value?curOption.remove():_.isUndefined(value)||(curOption.length?curOption.text(value):XML.$node("<option/>").attr("name",name).text(value).appendTo(newNode))}))}function _applySparklineOptions(newNode,settings){newNode.find('format[type="sparkline"]').remove(),settings.sparkline&&_.each(settings.sparkline,function(value,name){var $node=XML.$node("<format/>").attr("field",name).attr("type","sparkline").appendTo(newNode);_.each(settings.sparkline[name],function(optionValue,optionName){if(_.contains(["colorMap","valueSpots"],optionName)){var $option=XML.$node("<option/>").attr("name",optionName).appendTo($node),subOption=settings.sparkline[name][optionName];_.isArray(subOption)?$option.text(JSON.stringify(subOption)):_.each(subOption,function(subOptionValue,subOptionName){XML.$node("<option/>").attr("name",subOptionName).text(subOptionValue).appendTo($option)})}else XML.$node("<option/>").attr("name",optionName).text(optionValue).appendTo($node)})})}function _applyFormatOptions(newNode,settings){newNode.find("format").remove(),newNode.find('option[name^="format."]').remove(),settings.format&&_.each(settings.format,function(element,idx){if(element[""]){var $node=XML.$node("<format/>").appendTo(newNode);eachPropertySorted(element,function(value,key){if(value){var k=key?"."+key:key,optionDesc=formatDef[k];if(optionDesc){var keys=key?key.split("."):[key],$targetNode=$node;switch(_.contains(formatChildren,keys[0])&&($targetNode=$node.find(keys[0]),0==$targetNode.length&&($targetNode=XML.$tag(keys[0]).appendTo($node))),value=SerializerHelper.prepareValueWithType(value,optionDesc.dataType),optionDesc.valueType){case"attribute":$targetNode.attr(optionDesc.name,value);break;case"content":$targetNode.text(value);break;default:var $optionNode=XML.$tag("option").attr("name",optionDesc.name).appendTo($targetNode);$.isPlainObject(value)?_.each(value,function(v,k){XML.$tag("option").attr("name",k).text(v).appendTo($optionNode)}):$optionNode.text(value)}}else XML.$tag("option").attr("name",key).text(value).appendTo($node)}})}})}function _clearElementSearch(elementNode){var searchNodeSelector="searchString,searchTemplate,searchName,searchPostProcess,pivotSearch,earliestTime,latestTime,search";elementNode.children(searchNodeSelector).remove()}function _applyElementSearch(newNode,settings){if(settings.search){settings.search=_.extend({searchId:newNode.children("search").attr("id")},settings.search),_clearElementSearch(newNode);var searchNode=SearchSerializer.createSearchNode(settings.search);if(searchNode){var titleNode=newNode.find("title");titleNode.length?searchNode.insertAfter(titleNode):searchNode.prependTo(newNode)}}}var formatDef=SerializerHelper.getReportToNodeMapping("format"),formatChildren=SerializerHelper.getChildrenNames("format"),VizKeyMap={"display.visualizations.trellis.enabled":!0,"display.visualizations.trellis.scales.shared":!0,"display.visualizations.trellis.size":!0,"display.visualizations.trellis.splitBy":!0},TypeMapper={chart:function(report,result,options){var chartingPrefix="display.visualizations.charting.",vizPrefix="display.visualizations.";_(report.toJSON(options)).each(function(value,key){key.substring(0,chartingPrefix.length)===chartingPrefix?result.options[key.substring(vizPrefix.length)]=report.get(key,options):_.has(VizKeyMap,key)&&(result.options[key.substring(vizPrefix.length)]=report.get(key,options))});var height=report.get("display.visualizations.chartHeight",options);height&&options.omitHeight!==!0&&(result.options.height=height)},event:function(report,result,options){var eventsPrefix="display.events.";result.options.count=report.get("display.prefs.events.count",options),_(report.toJSON(options)).chain().omit(eventsPrefix+"histogram",eventsPrefix+"fields").each(function(v,key){if(0===key.indexOf(eventsPrefix)){var value=report.get(key,options);_.isArray(value)&&(value=JSON.stringify(value)),result.options[key.substring(eventsPrefix.length)]=null!=value?String(value):null}}),result.options["table.drilldown"]&&(result.options["table.drilldown"]=SplunkUtil.normalizeBoolean(result.options["table.drilldown"])?"all":"none")},map:function(report,result,options){var mappingPrefix="display.visualizations.mapping.",vizPrefix="display.visualizations.";_(report.toJSON()).each(function(value,key){0===key.indexOf(mappingPrefix)?result.options[key.substring(vizPrefix.length)]=report.get(key,options):_.has(VizKeyMap,key)&&(result.options[key.substring(vizPrefix.length)]=report.get(key,options))}),(options||{}).pdf||delete result.options["mapping.data.bounds"],result.options["mapping.drilldown"]&&(result.options.drilldown=DrilldownHelper.getNormalizedDrilldownType(result.options["mapping.drilldown"],{allowBoolean:!0}),delete result.options["mapping.drilldown"]);var height=report.get("display.visualizations.mapHeight",options);height&&options.omitHeight!==!0&&(result.options.height=height)},single:function(report,result,options){var prefix="display.visualizations.singlevalue.",vizPrefix="display.visualizations.";_(report.toJSON(options)).each(function(v,k){k.substring(0,prefix.length)===prefix?result.options[k.substring(prefix.length)]=v:_.has(VizKeyMap,k)&&(result.options[k.substring(vizPrefix.length)]=report.get(k,options))}),result.options.drilldown&&(result.options.drilldown=DrilldownHelper.getNormalizedDrilldownType(result.options.drilldown,{default:"none"}));var height=report.get("display.visualizations.singlevalueHeight",options);height&&options.omitHeight!==!0&&(result.options.height=height)},table:function(report,result,options){result.options.wrap=SplunkUtil.normalizeBoolean(report.get("display.statistics.wrap",options)),result.options.rowNumbers=SplunkUtil.normalizeBoolean(report.get("display.statistics.rowNumbers",options)),result.options.dataOverlayMode=report.get("display.statistics.overlay",options),report.get("display.statistics.drilldown",options)&&(result.options.drilldown=DrilldownHelper.getNormalizedDrilldownType(report.get("display.statistics.drilldown",options),{validValues:["cell","row","none"],default:"cell",aliasMap:{all:"cell",off:"none"}})),result.options.totalsRow=SplunkUtil.normalizeBoolean(report.get("display.statistics.totalsRow",options)),result.options.percentagesRow=SplunkUtil.normalizeBoolean(report.get("display.statistics.percentagesRow",options)),result.options.count=report.get("display.prefs.statistics.count",options),result.options.labelField=null,result.options.valueField=null,result.sparkline=report.get("display.statistics.sparkline.format",options),result.format=[];var reportContent=report.toJSON({tokens:!0}),prefix="display.statistics.format",idxStart=prefix.split(".").length;_.each(reportContent,function(value,key,object){if(0==key.indexOf(prefix)){var temp=key.split("."),idx=parseInt(temp[idxStart],10);result.format[idx]=result.format[idx]||{},result.format[idx][temp.slice(idxStart+1).join(".")]=value;
}});var fields=report.get("display.statistics.fields",options);result.tags.fields=_.isArray(fields)?_.isEmpty(fields)?null:JSON.stringify(fields):"[]"===fields?null:fields},viz:function(report,result,options){var customPrefix="display.visualizations.custom.",vizPrefix="display.visualizations.",type=report.get(customPrefix+"type");_(report.toJSON(options)).each(function(value,key){key.substring(0,customPrefix.length+type.length)===customPrefix+type?result.options[key.substring(customPrefix.length)]=report.get(key,options):key.substring(0,customPrefix.length)===customPrefix?"drilldown"===key.substring(customPrefix.length)&&(result.options[key.substring(customPrefix.length)]=report.get(key,options)):_.has(VizKeyMap,key)&&(result.options[key.substring(vizPrefix.length)]=report.get(key,options))}),result.attributes=_.extend({type:type},result.attributes);var height=report.get("display.visualizations.custom.height",options);height&&options.omitHeight!==!0&&(result.options.height=height)}};return{createElementNodeFromReport:createElementNodeFromReport,createElementNode:createElementNode,_updateExistingElementNode:updateExistingElementNode,_updateElementNode:updateElementNode,_createElementNode:createElementNode,_elementSerializerSettings:elementSerializerSettings}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"dashboard/serializer/SearchSerializer":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("util/xml")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,XML){function applyGlobalSearch($xml,settings){var root=XML.root($xml);root.children("searchTemplate,earliestTime,latestTime,search[id=global]").remove();var searchNode=createSearchNode(_.extend({id:"global"},settings.search));XML.inject({node:searchNode,container:root,where:"after",selectors:["label","description"],fallback:"prepend"})}function createSearchNodeFromSetting($search,settings,options){switch($search||($search=XML.$tag("search")),$search.children("query, earliest, latest, sampleRatio, refresh, refreshType").remove(),settings.searchType){case"inline":$search.removeAttr("ref"),XML.$node("<query />").text(settings.search).appendTo($search),null!=settings.earliest_time&&XML.$node("<earliest />").text(settings.earliest_time).appendTo($search),null!=settings.latest_time&&XML.$node("<latest />").text(settings.latest_time).appendTo($search),null!=settings.sampleRatio&&XML.$node("<sampleRatio />").text(String(settings.sampleRatio)).appendTo($search);break;case"postprocess":$search.removeAttr("ref"),XML.$node("<query />").text(settings.search).appendTo($search),$search.attr("base",settings.base||"global");break;case"saved":$search.attr("ref",settings.name),null!=settings.earliest_time&&XML.$node("<earliest />").text(settings.earliest_time).appendTo($search),null!=settings.latest_time&&XML.$node("<latest />").text(settings.latest_time).appendTo($search);break;default:throw new Error("Invalid search type: "+settings.type)}return settings.refresh&&(XML.$node("<refresh/>").text(settings.refresh).appendTo($search),settings.refreshType&&XML.$node("<refreshType/>").text(settings.refreshType).appendTo($search)),settings.type&&$search.attr("type",settings.type),$search}function createSearchNode(searchState,state,options){options||(options={}),options.flagUsedSearchStates&&(searchState.usedFlag=!0);var originalXML=searchState.getOriginalXML(),$search=originalXML?XML.$node(originalXML):XML.$tag("search");if(searchState.isDirty()||!$search.is("search")||!originalXML){var settings=searchState.getState();settings.searchId?$search.attr("id",settings.searchId):searchState.isReferenced&&$search.attr("id",searchState.id),createSearchNodeFromSetting($search,settings)}return searchState.setXML(XML.serialize($search)),$search}return{createSearchNodeFromSetting:createSearchNodeFromSetting,createSearchNode:createSearchNode,applyGlobalSearch:applyGlobalSearch}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/dashboard/DashboardElementReport":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),__webpack_require__("models/search/Report"),__webpack_require__("models/MeltingPot"),__webpack_require__("util/readonly"),__webpack_require__("controllers/dashboard/helpers/vizTypeNames"),__webpack_require__("splunkjs/mvc/utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,Backbone,Report,MeltingPot,ReadOnly,vizTypeNames,Utils){var DashboardElementReportContent=MeltingPot.extend({initialize:function(){MeltingPot.prototype.initialize.apply(this,arguments),this.transientProps=new Backbone.Model},set:function(key,val,options){return null==key?this:("object"==typeof key&&(options=val),options&&options.transient&&this.transientProps?(this.transientProps.set.apply(this.transientProps,arguments),this):MeltingPot.prototype.set.apply(this,arguments))},toJSON:function(options){var result;return result=options&&options.omitNonSavedSearchesDefaults?MeltingPot.mergeModels(_(this._delegates).without(DashboardElementReport.NON_SAVEDSEARCHES_DEFAULTS),options):MeltingPot.prototype.toJSON.apply(this,arguments),options&&options.onlyDisplayProperties?DashboardElementReport.getDisplayProperties(result):result},save:function(){return this.trigger("save"),$.Deferred().resolve()}}),VIZ_TYPE_REPORT_PROPERTIES=["display.general.type","display.events.type","display.visualizations.type","display.visualizations.custom.type","display.visualizations.charting.chart","display.visualizations.mapping.type"],DashboardElementReport=Report.extend({initialize:function(options){Report.prototype.initialize.call(this),options&&options.delegate&&this.entry.content.addDelegate(options.delegate),this.entry.content.addDelegate(this.entry.content.transientProps),this.typeModel=new Backbone.Model,this.entry.content.addDelegate(this.typeModel),this.editStateDelegate=new Backbone.Model,this.entry.content.addDelegate(this.editStateDelegate),this.entry.content.addDelegate(DashboardElementReport.NON_SAVEDSEARCHES_DEFAULTS),this.viewModeSink=new Backbone.Model,this.setEditable(options.editable),this.listenTo(this.entry.content,DashboardElementReport.getTypeChangeEvents().join(" "),this.updateTypeModel),this.listenTo(this.entry.content,"save",this.save),this.updateTypeModel()},setEditable:function(editable){this.entry.content.removeDelegate(this.viewModeSink),this.viewModeSink.clear(),editable||this.entry.content.addDelegate(this.viewModeSink,{index:0}),this.editStateDelegate.set("dashboard.element.edit",!!editable)},setDefaults:function(model){this.entry.content.addDelegate(model.entry.content)},updateTypeModel:function(){this.typeModel.set("dashboard.element.viz.type",DashboardElementReport.getVizType(this))},fetch:function(){throw new Error("Cannot fetch DashboardElementReport")},initializeAssociated:function(){Report.prototype.initializeAssociated.apply(this,arguments),this.entry.content=new DashboardElementReportContent({delegates:[]}),this.entry.acl=new MeltingPot({delegates:[]})},setReportDelegate:function(report){this.entry.set("name",report.entry.get("name")),this.entry.acl.removeDelegates(),this.entry.acl.addDelegate(report.entry.acl)},clearReportDelegate:function(){this.entry.unset("name"),this.entry.acl.removeDelegates()},isNew:function(){return null==this.entry.get("name")||"_new"==this.entry.get("name")},save:function(){return this.trigger("save"),$.Deferred().resolve()}},{VIZ_TYPES:["table","chart","event","single","list","map","html","viz"],NON_SAVEDSEARCHES_DEFAULTS:ReadOnly.readOnlyModel(new Backbone.Model({"display.prefs.statistics.count":"10","display.prefs.events.count":"10","display.visualizations.chartHeight":"250","display.visualizations.singlevalueHeight":"115","display.visualizations.singlevalue.linkView":"search","display.events.showPager":"1","display.events.histogram":"0","display.events.fields":'["host", "source", "sourcetype"]',"display.events.table.sortDirection":"asc","display.visualizations.resizable":!0,"display.visualizations.custom.resizable":!0,"display.visualizations.singlevalue.resizable":!0,"dashboard.element.refresh.display":"progressbar"})),getTypeChangeEvents:function(){return _(VIZ_TYPE_REPORT_PROPERTIES).map(function(prop){return"change:"+prop})},getVizType:function(report){return DashboardElementReport.getVizTypeFromReportContent(report.entry.content.toJSON())},getVizTypeFromReportContent:function(content){var type=null;switch(content["display.general.type"]){case"visualizations":switch(content["display.visualizations.type"]){case"charting":type=vizTypeNames.CHART;break;case"singlevalue":type=vizTypeNames.SINGLE_VALUE;break;case"mapping":type=vizTypeNames.MAP;break;case"custom":type=vizTypeNames.CUSTOM_VIZ}break;case"events":type=vizTypeNames.EVENT;break;case"statistics":type=vizTypeNames.TABLE}return type},getVizTypeReportProperties:function(){return VIZ_TYPE_REPORT_PROPERTIES},getDisplayPropertyPrefixes:function(reportContent){var prefixes,generalType=reportContent["display.general.type"];switch(generalType){case"visualizations":switch(reportContent["display.visualizations.type"]){case"charting":prefixes=["display.visualizations.trellis","display.visualizations.charting"];break;case"singlevalue":prefixes=["display.visualizations.trellis","display.visualizations.singlevalue"];break;case"mapping":prefixes=["display.visualizations.trellis","display.visualizations.mapping"];break;case"custom":prefixes=["display.visualizations.trellis","display.visualizations.custom"]}break;case"events":prefixes=["display.events"];break;case"statistics":prefixes=["display.statistics"]}return prefixes},getDisplayProperties:function(reportContent,noPrefix){var properties={},prefixes=DashboardElementReport.getDisplayPropertyPrefixes(reportContent);return prefixes&&_.each(reportContent,function(v,k){_.each(prefixes,function(prefix){_.isString(k)&&0===k.indexOf(prefix)&&(noPrefix===!0?properties[k.slice(prefix.length+1)]=v:properties[k]=v)})},this),properties}});return DashboardElementReport}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"models/MeltingPot":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("models/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,BaseModel){var MeltingPot=BaseModel.extend({constructor:function(options){options||(options={}),this._delegates=[],this._readOnly=!!options.readOnly,BaseModel.prototype.constructor.call(this),options.delegates&&this.setDelegates(options.delegates)},setDelegates:function(models,options){options||(options={}),this.removeDelegates(),_(models).each(function(model){this.addDelegate(model,{silent:!0})}.bind(this)),options.silent||this.rebuildFromDelegates()},addDelegate:function(model,options){options||(options={}),this.listenTo(model,"change",this.rebuildFromDelegates),null!=options.index?this._delegates.splice(options.index,0,model):this._delegates.push(model),options.silent||this.rebuildFromDelegates()},removeDelegates:function(options){options||(options={}),_(this._delegates).each(function(model){this.removeDelegate(model,{silent:!0})}.bind(this)),options.silent||this.rebuildFromDelegates()},removeDelegate:function(model,options){options||(options={}),this._delegates=_(this._delegates).without(model),this.stopListening(model),options.silent||this.rebuildFromDelegates()},rebuildFromDelegates:function(){var mergedNewAttrs=MeltingPot.mergeModels(this._delegates),clearAttrNames=_.difference(_.keys(this.attributes),_.keys(mergedNewAttrs));if(clearAttrNames.length){var clearAttrs=_.object(clearAttrNames,_(clearAttrNames).map(function(){}));BaseModel.prototype.set.call(this,clearAttrs,{unset:!0})}BaseModel.prototype.set.call(this,mergedNewAttrs)},getDelegates:function(){return this._delegates.slice()},firstDelegate:function(){return this._delegates[0]},set:function(){var firstDelegate=this.firstDelegate();if(firstDelegate){if(this._readOnly)throw new Error("Not allowed to call set() method on read-only meltingpot model");firstDelegate.set.apply(firstDelegate,arguments)}},unset:function(){var firstDelegate=this.firstDelegate();if(firstDelegate){if(this._readOnly)throw new Error("Not allowed to call unset() method on read-only meltingpot model");firstDelegate.unset.apply(firstDelegate,arguments)}},clear:function(){var firstDelegate=this.firstDelegate();if(firstDelegate){if(this._readOnly)throw new Error("Not allowed to call clear() method on read-only meltingpot model");firstDelegate.clear.apply(firstDelegate,arguments)}},sync:function(){return $.Deferred().reject()}},{mergeModels:function(models,options){var newAttrs=_(models).invoke("toJSON",options);return newAttrs.reverse(),_.extend.apply(_,newAttrs)}});return MeltingPot}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"util/readonly":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,SplunkUtil){function readOnlyWrapInstance(originalInstance,overrideMethods,errorMessage){var Constructor=originalInstance.constructor,wrapperInstance=new Constructor,excludes=_.extend({constructor:!0},_.object(overrideMethods,overrideMethods));for(var name in Constructor.prototype){var fn=Constructor.prototype[name];_.isFunction(fn)&&!excludes[name]&&(wrapperInstance[name]=originalInstance[name].bind(originalInstance))}return _(overrideMethods).each(function(blockedMethod){wrapperInstance[blockedMethod]=function(){throw new Error(sprintf(errorMessage,blockedMethod))}}),wrapperInstance}var sprintf=SplunkUtil.sprintf;return{readOnlyModel:function(modelInstance){var MODEL_WRITE_METHODS=["fetch","set","clear","unset","save","destroy"];return readOnlyWrapInstance(modelInstance,MODEL_WRITE_METHODS,"Not allowed to call %s method on read-only model")},readOnlyCollection:function(collectionInstance){var COLLECTION_WRITE_METHODS=["sync","add","create","remove","reset","set","push","pop","shift","unshift","fetch","sort"];return readOnlyWrapInstance(collectionInstance,COLLECTION_WRITE_METHODS,"Not allowed to call %s method on read-only collection")}}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"controllers/dashboard/helpers/vizTypeNames":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[exports,__webpack_require__(36)],__WEBPACK_AMD_DEFINE_RESULT__=function(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.CHART="chart",exports.SINGLE_VALUE="single",exports.MAP="map",exports.CUSTOM_VIZ="viz",exports.EVENT="event",exports.TABLE="table"}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"dashboard/serializer/EventManagerSerializer":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("util/xml")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,XML){function createEventNodes(evtManagerState,dashboardState,options){var nodes=[];return _(evtManagerState.getState().events||[]).each(function(eventDef){var $eventNode=XML.$tag(eventDef.type);_(eventDef.settings.conditions||[]).each(function(condition){var $condition=createConditionNode(condition,options);$condition&&$eventNode.append($condition)}),_(eventDef.settings.actions||[]).each(function(action){var $action=createActionNode(action,options);$action&&$eventNode.append($action)}),nodes.push($eventNode)}),nodes}function createConditionNode(condition,options){var $condition=XML.$tag("condition").attr(condition.attr,condition.value);return _(condition.actions||[]).each(function(action){var $action=createActionNode(action,options);$action&&$condition.append($action)}),$condition}function createActionNode(action,options){var $action=XML.$tag(action.type);switch(action.value&&$action.text(action.value),action.type){case"link":action.target&&$action.attr("target",action.target),action.series&&$action.attr("series",action.series),action.field&&$action.attr("field",action.field);break;case"set":case"unset":case"eval":action.token&&$action.attr("token",action.token),action.prefix&&$action.attr("prefix",action.prefix),action.suffix&&$action.attr("suffix",action.suffix)}return $action}function updateEventNodes($parent,evtManagerState,dashboardState,options){options||(options={}),evtManagerState&&(evtManagerState.isDirty()||options.forceDirty===!0)&&($parent.find("drilldown,selection").remove(),_(createEventNodes(evtManagerState,dashboardState,options)).each(function($event){$parent.append($event)}))}function removeEventNodes($parent,options){$parent.find("drilldown,selection").remove()}return{createEventNodes:createEventNodes,updateEventNodes:updateEventNodes,removeEventNodes:removeEventNodes}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"dashboard/serializer/SerializerHelper":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("util/xml"),__webpack_require__("models/dashboard/DashboardElementReport"),__webpack_require__("splunk/parsers/ObjectParser"),__webpack_require__("splunk/parsers/ArrayParser"),__webpack_require__("splunk/parsers/StringParser"),__webpack_require__("splunk/parsers/BooleanParser"),__webpack_require__("dashboard/DashboardParser")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,XML,DashboardElementReport,ObjectParser,ArrayParser,StringParser,BooleanParser,DashboardParser){function applyPredefinedID($node,state){state.isPredefinedID()&&$node.attr("id",state.id)}function applyAttributes($node,attributes){_(attributes).each(function(value,name){$node.attr(name,value)})}function applyTokenDependencies($node,settings){settings&&settings.tokenDependences&&(settings.tokenDependences.depends&&$node.attr("depends",settings.tokenDependences.depends),settings.tokenDependences.rejects&&$node.attr("rejects",settings.tokenDependences.rejects))}function applyTitleNode($node,title){$node.children("title").remove(),title&&XML.$tag("title").text(title).prependTo($node)}function removeElements($container){$container.find(DashboardElementReport.VIZ_TYPES.join(",")).remove()}function removeInputs($container){$container.children("input").remove()}function removeInputsAndElements($container){removeInputs($container),removeElements($container)}function getOriginalXMLIfNotDirty(state,producer,options){options||(options={});var originalXML=state.getOriginalXML(),isDirty=state.isDirty()||options.forceDirty===!0;return originalXML&&!isDirty?XML.$node(originalXML):producer(originalXML,state)}function getReportToNodeMapping(rootType){var mapping={},parser=DashboardParser.getDefault(),rootNodes=parser.nodeTypes[rootType];return rootNodes&&(_.isArray(rootNodes)||(rootNodes=[rootNodes]),_(rootNodes).each(function(nodeDef){_(_.extend({},nodeDef.attributes,nodeDef.settings,nodeDef.options)).each(function(v){_.isUndefined(v.reportProperty)||(mapping[v.reportProperty]=_.pick(v,"name","valueType","dataType"))}),nodeDef.normalization&&nodeDef.normalization.inlineChildren&&_(nodeDef.normalization.inlineChildren).map(function(inlineDef){var childrenType=inlineDef.type,reportProperty=inlineDef.reportProperty,index=inlineDef.autoIndex?"<idx>":"",childrenMapping=getReportToNodeMapping(childrenType);_(childrenMapping).each(function(v,k){var reportKey=(nodeDef.reportPropertyPrefix||"")+reportProperty+index+k;mapping[reportKey]=v})})})),mapping}function getChildrenNames(rootType){var ret=[],parser=DashboardParser.getDefault(),rootNodes=parser.nodeTypes[rootType];return rootNodes&&(_.isArray(rootNodes)||(rootNodes=[rootNodes]),_(rootNodes).each(function(nodeDef){nodeDef.children&&_.each(nodeDef.children,function(child){ret.push(child.type)})})),ret}function _prepareValueWithType(value,dataType){var result;switch(dataType){case"fields-list":result=(arrayParser.stringToValue(value)||[]).join(",");break;case"color-map":result=objectParser.stringToValue(value)||{};break;case"boolean":result=booleanParser.valueToString(booleanParser.stringToValue(value));break;default:result=value}return result}var arrayParser=ArrayParser.getInstance(StringParser.getInstance()),objectParser=ObjectParser.getInstance(StringParser.getInstance()),booleanParser=BooleanParser.getInstance();return{applyAttributes:applyAttributes,applyTokenDependencies:applyTokenDependencies,applyPredefinedID:applyPredefinedID,applyTitleNode:applyTitleNode,removeElements:removeElements,removeInputs:removeInputs,removeInputsAndElements:removeInputsAndElements,getOriginalXMLIfNotDirty:getOriginalXMLIfNotDirty,prepareValueWithType:_prepareValueWithType,getReportToNodeMapping:getReportToNodeMapping,getChildrenNames:getChildrenNames}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"splunk/parsers/BooleanParser":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),Parser=__webpack_require__("splunk/parsers/Parser"),ParseUtils=__webpack_require__("splunk/parsers/ParseUtils");return Class(module.id,Parser,function(BooleanParser,base){var _instance=null;BooleanParser.getInstance=function(){return _instance||(_instance=new BooleanParser),_instance},this.stringToValue=function(str){return str=ParseUtils.trimWhiteSpace(str),str&&(str=str.toLowerCase()),"true"===str||"t"===str||"1"===str},this.valueToString=function(value){return value===!0?"true":"false"}})}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"dashboard/serializer/InputSerializer":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("util/general_utils"),__webpack_require__("util/xml"),__webpack_require__("dashboard/serializer/SearchSerializer"),__webpack_require__("dashboard/serializer/EventManagerSerializer"),__webpack_require__("dashboard/serializer/SerializerHelper")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,GeneralUtils,XML,SearchSerializer,EventManagerSerializer,SerializerHelper){function createInputNode(inputState,state,options){var searchId=inputState.getState().managerid,forceDirty=searchId&&state.searches.get(searchId)&&(state.searches.get(searchId).isDirty()||null==state.searches.get(searchId).getOriginalXML()),$input=SerializerHelper.getOriginalXMLIfNotDirty(inputState,function(originalXML){return updateInputFromSettings(originalXML?XML.$node(originalXML):XML.$tag("input"),inputState.getState(),options)},{forceDirty:forceDirty});if(searchId){var searchState=state.searches.get(searchId),$search=SerializerHelper.getOriginalXMLIfNotDirty(searchState,function(originalXML){return $search=SearchSerializer.createSearchNode(searchState,state,options)});XML.replaceOrAppend({node:$search,container:$input,selector:POPULATING_SEARCH_SELECTOR})}else $input.children(POPULATING_SEARCH_SELECTOR).remove();var evtManagerId=inputState.getState().evtmanagerid;return evtManagerId&&EventManagerSerializer.updateEventNodes($input,state.events.get(evtManagerId),state,options),inputState.setXML(XML.serialize($input)),$input}function updateExistingInputNode(curNode,settings,options){var newNode=XML.clone(curNode);return updateInputFromSettings(newNode,settings,options)}function updateInputFromSettings($input,settings,options){return $input.attr("type",settings.type),$input.attr("token",settings.token||null),$input.attr("searchWhenChanged",null!=settings.searchWhenChanged?String(GeneralUtils.normalizeBoolean(settings.searchWhenChanged)):null),_applyInputLabel(settings,$input,options),_applyInputStaticChoices(settings,$input,options),_applyInputDefaultValue($input,settings,options),_applyInputSettings($input,settings,options),_applyInputSearchFields($input,settings,options),$input}function createInputFromSettings(settings,options){var $input=XML.$node("<input />");return updateInputFromSettings($input,settings,options)}function _applyInputLabel(settings,$input,options){var label=$.trim(settings.label);void 0!==label?XML.replaceOrPrepend({node:XML.$node("<label/>").text(label),selector:"label",container:$input}):$input.children("label").remove()}function _applyInputStaticChoices(settings,$input,options){if(settings.choices&&settings.choices.length){var newChoices=_(settings.choices).map(function(choice){return XML.$node("<choice/>").attr("value",choice.value).text(choice.label)});XML.replaceOrAppend({node:newChoices,container:$input,selector:"choice"})}else $input.children("choice").remove()}function _applyInputDefaultValue($input,settings,options){var defaultValue=settings.default;if(null==defaultValue||_.isArray(defaultValue)&&0===defaultValue.length)$input.children("default").remove();else{var defaultNode=XML.$node("<default/>");"time"==settings.type?(XML.$node("<earliest></earliest>").text(null==defaultValue.earliest_time?"":defaultValue.earliest_time).appendTo(defaultNode),XML.$node("<latest></latest>").text(null==defaultValue.latest_time?"":defaultValue.latest_time).appendTo(defaultNode)):_.isArray(defaultValue)?defaultNode.text(_serializeCSVString(defaultValue)):defaultNode.text(defaultValue),XML.replaceOrAppend({node:defaultNode,selector:"default",container:$input})}}function _serializeCSVString(list){return _.map(list,function(part){return/[,\r\n""]/.test(part)?'"'+part.replace(/"/g,'""')+'"':part}).join(",")}function _applyInputSettings($input,settings,options){_(["prefix","suffix","seed","initialValue","valuePrefix","valueSuffix","delimiter"]).each(function(option){var val=settings[option];if(!val||_.isArray(val)&&0===val.length)$input.children(option).remove();else{var node=XML.$tag(option).text(val);XML.replaceOrAppend({node:node,container:$input,selector:option})}})}function _applyInputSearchFields($input,settings,options){settings.labelField?XML.replaceOrAppend({node:XML.$tag("fieldForLabel").text(settings.labelField),container:$input,selector:"fieldForLabel"}):$input.children("fieldForLabel").remove(),settings.valueField?XML.replaceOrAppend({node:XML.$tag("fieldForValue").text(settings.valueField),container:$input,selector:"fieldForValue"}):$input.children("fieldForValue").remove()}var POPULATING_SEARCH_SELECTOR="populatingSavedSearch,populatingSearch,search";return{createInputNode:createInputNode,_updateExistingInputNode:updateExistingInputNode,_updateInputFromSettings:updateInputFromSettings,_createInputFromSettings:createInputFromSettings}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"dashboard/serializer/FieldsetSerializer":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("util/xml"),__webpack_require__("dashboard/serializer/PanelSerializer"),__webpack_require__("dashboard/serializer/InputSerializer"),__webpack_require__("dashboard/serializer/ElementSerializer"),__webpack_require__("dashboard/serializer/SerializerHelper")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,XML,PanelSerializer,InputSerializer,ElementSerializer,SerializerHelper){function createFieldsetNode(fieldsetState,children,state,options){var originalXML=state.fieldset.getOriginalXML(),$fieldset=originalXML?XML.$node(originalXML):XML.$tag("fieldset");(fieldsetState&&fieldsetState.isDirty()||!originalXML)&&SerializerHelper.applyAttributes($fieldset,_(state.fieldset.getState(),"autoRun","submitButton")),$fieldset.empty();var $children=_(children).map(function(child){return"input"==child.type?InputSerializer.createInputNode(state.inputs.get(child.id),state,options):"element"==child.type?ElementSerializer.createElementNode(state.elements.get(child.id),state,options):void 0});return $fieldset.append($children),fieldsetState.setXML(XML.serialize($fieldset)),$fieldset}return{createFieldsetNode:createFieldsetNode}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/dialogs/dashboardpanel/Success":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/Modal"),__webpack_require__("uri/route"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,Base,Modal,route,splunkUtil){return Base.extend({moduleId:module.id,initialize:function(){Base.prototype.initialize.apply(this,arguments),this.model.dashboardToSave.entry.on("change:name",function(){var routeToDashboard=route.page(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),this.model.dashboardToSave.entry.get("name")),successText=splunkUtil.sprintf(_("The panel has been created and added to %s. You may now view the dashboard.").t(),this.model.dashboardToSave.entry.get("name"));this.$("a.routeToDashboard").attr("href",routeToDashboard),this.$("p.dashboard-success-message").text(successText)},this)},render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Your Dashboard Panel Has Been Created").t()),this.$(Modal.BODY_SELECTOR).html(this.compiledTemplate({_:_})),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary routeToDashboard">'+_("View Dashboard").t()+"</a>"),this},focus:function(){this.$(".btn-primary").focus()},template:'\t                <p class="dashboard-success-message">\t                </p>\t                '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/editmenu/Menu":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("models/classicurl"),__webpack_require__("views/shared/PopTart"),__webpack_require__("views/shared/basemanager/MoveDialog"),__webpack_require__("views/shared/documentcontrols/dialogs/EditSearchDialog"),__webpack_require__("views/shared/documentcontrols/dialogs/permissions_dialog/Master"),__webpack_require__("views/shared/reportcontrols/dialogs/summaryindexingdialog/Master"),__webpack_require__("views/shared/reportcontrols/dialogs/schedule_dialog/Master"),__webpack_require__("views/shared/reportcontrols/dialogs/AccelerationDialog"),__webpack_require__("views/shared/documentcontrols/dialogs/DeleteDialog"),__webpack_require__("views/shared/reportcontrols/dialogs/clone_dialog/Master"),__webpack_require__("views/shared/reportcontrols/dialogs/embed_dialog/Master"),__webpack_require__("views/shared/reportcontrols/dialogs/EnableDisableDialog"),__webpack_require__("uri/route"),__webpack_require__("util/general_utils"),__webpack_require__("shim/bootstrap.modal")],
__WEBPACK_AMD_DEFINE_RESULT__=function(module,$,_,classicUrlModel,PopTartView,MoveDialog,EditSearchDialog,PermissionsDialog,SummaryIndexingDialog,ScheduleDialog,AccelerationDialog,DeleteDialog,CloneDialog,EmbedDialog,EnableDisableDialog,route,util,bootstrapModal){return PopTartView.extend({moduleId:module.id,className:"dropdown-menu dropdown-menu-narrow",initialize:function(){PopTartView.prototype.initialize.apply(this,arguments);var defaults={button:!0,showOpenActions:!0,deleteRedirect:!1,showDisable:!1,showMove:!1,showAdvancedEdit:!1,showSearchField:!1,showSummaryIndexing:!1};_.defaults(this.options,defaults),this.model.searchJob&&this.model.searchJob.on("prepared",function(){this.$("a.clone").removeClass("disabled"),this.$("a.edit-acceleration").removeClass("disabled")},this)},events:{"click a.edit-description":function(e){this.hide(),this.children.editSearchDialog=new EditSearchDialog({model:{report:this.model.report,user:this.model.user,application:this.model.application},collection:this.collection,onHiddenRemove:!0,showSearchField:this.options.showSearchField}),this.children.editSearchDialog.render().appendTo($("body")),this.children.editSearchDialog.show(),e.preventDefault()},"click a.edit-permissions":function(e){this.hide(),this.children.permissionsDialog=new PermissionsDialog({model:{document:this.model.report,nameModel:this.model.report.entry,user:this.model.user,serverInfo:this.model.serverInfo,application:this.model.application},collection:this.collection.roles,onHiddenRemove:!0,nameLabel:_("Report").t(),showDispatchAs:!0}),this.children.permissionsDialog.render().appendTo($("body")),this.children.permissionsDialog.show(),this.listenTo(this.children.permissionsDialog,"hidden",function(){this.model.report.entry.content.get("is_scheduled")&&"user"===this.model.report.entry.content.get("dispatchAs")&&(this.model.report.entry.content.set("dispatchAs","owner"),this.model.report.save())}),e.preventDefault()},"click a.edit-schedule":function(e){this.hide(),this.children.scheduleDialog=new ScheduleDialog({model:{report:this.model.report,application:this.model.application,user:this.model.user,appLocal:this.model.appLocal,serverInfo:this.model.serverInfo,controller:this.model.controller},collection:{alertActions:this.collection.alertActions},onHiddenRemove:!0}),this.children.scheduleDialog.render().appendTo($("body")),this.children.scheduleDialog.show(),e.preventDefault()},"click a.edit-acceleration":function(e){this.hide(),this.children.accelerationDialog=new AccelerationDialog({model:{report:this.model.report,searchJob:this.model.searchJob,application:this.model.application,controller:this.model.controller},onHiddenRemove:!0}),this.children.accelerationDialog.render().appendTo($("body")),this.children.accelerationDialog.show(),e.preventDefault()},"click a.edit-summary-indexing":function(e){this.hide(),this.children.summaryIndexingDialog=new SummaryIndexingDialog({model:{report:this.model.report,application:this.model.application,user:this.model.user,appLocal:this.model.appLocal,controller:this.model.controller},collection:{indexes:this.collection.indexes},onHiddenRemove:!0}),this.children.summaryIndexingDialog.render().appendTo($("body")),this.children.summaryIndexingDialog.show(),e.preventDefault()},"click a.clone":function(e){this.hide(),this.children.cloneDialog=new CloneDialog({model:{report:this.model.report,searchJob:this.model.searchJob,application:this.model.application,user:this.model.user,serverInfo:this.model.serverInfo},collection:{appLocals:this.collection.appLocals},onHiddenRemove:!0}),this.children.cloneDialog.render().appendTo($("body")),this.children.cloneDialog.show(),e.preventDefault()},"click a.embed":function(e){this.hide(),this.children.embedDialog=new EmbedDialog({model:this.model,onHiddenRemove:!0}),this.children.embedDialog.render().appendTo($("body")),this.children.embedDialog.show(),e.preventDefault()},"click a.delete":function(e){this.hide(),this.children.deleteDialog=new DeleteDialog({model:{report:this.model.report,application:this.model.application,controller:this.model.controller},deleteRedirect:this.options.deleteRedirect,onHiddenRemove:!0}),this.children.deleteDialog.render().appendTo($("body")),this.children.deleteDialog.show(),e.preventDefault()},"click a.open-in-search":function(e){var data={};data=this.model.searchJob&&!this.model.searchJob.isNew()?classicUrlModel.toJSON():{s:this.model.report.id};var openInView=this.model.report.openInView(this.model.user),view=route.getView(openInView),routeString=view.route(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:data});window.location=routeString,e.preventDefault()},"click a.enable-disable":function(e){this.hide(),this.children.enableDisableDialog=new EnableDisableDialog({model:this.model.report,onHiddenRemove:!0}),this.children.enableDisableDialog.render().appendTo($("body")),this.children.enableDisableDialog.show(),e.preventDefault()},"click a.move":function(e){this.hide(),this.children.moveDialog=new MoveDialog({model:{entity:this.model.report,application:this.model.application,controller:this.model.controller},collection:{appLocals:this.collection.appLocals},entitySingular:this.options.entitySingular,onHiddenRemove:!0}),this.children.moveDialog.render().appendTo($("body")),this.children.moveDialog.show(),e.preventDefault()},"click a.advanced-edit":function(e){window.open(window.location.pathname+"/advancededit?s="+encodeURI(this.model.report.id)),e.preventDefault()}},render:function(){var openInView=this.model.report.openInView(this.model.user),canWrite=this.model.report.canWrite(this.model.user.canScheduleSearch(),this.model.user.canRTSearch()),canClone=this.model.report.canClone(this.model.user.canScheduleSearch(),this.model.user.canRTSearch()),canEmbed=this.model.report.canEmbed(this.model.user.canScheduleSearch(),this.model.user.canEmbed()),canDelete=this.model.report.canDelete(),canMove=this.model.report.canMove(),canAdvancedEdit=this.model.report.canAdvancedEdit(),isEmbedded=util.normalizeBoolean(this.model.report.entry.content.get("embed.enabled")),isDisabled=this.model.report.entry.content.get("disabled"),view=route.getView(openInView),openInUrl=view.route(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{s:this.model.report.id}}),html=this.compiledTemplate({_:_,button:this.options.button,report:this.model.report,user:this.model.user,openInView:openInView,openInUrl:openInUrl,openInText:view.openLabel});if(this.$el.html(PopTartView.prototype.template_menu),this.$el.append(html),isEmbedded?(this.$(".edit_messages").append('<li class="message">'+_("Disable embedding to edit report.").t()+"</li>"),this.options.showDisable&&isDisabled&&this.$(".edit_messages").append('<li class="message">'+_("Disable embedding to disable report.").t()+"</li>")):this.$(".edit_messages").remove(),this.options.showOpenActions?this.$(".open_actions").show():this.$(".open_actions").remove(),canWrite&&!isEmbedded){var editDescriptionText=this.options.showSearchField?_("Edit Search").t():_("Edit Description").t();if(this.$(".edit_actions").append('<li><a class="edit-description" href="#">'+editDescriptionText+"</a></li>"),this.model.report.entry.acl.get("can_change_perms")&&this.$(".edit_actions").append('<li><a class="edit-permissions" href="#">'+_("Edit Permissions").t()+"</a></li>"),this.model.user.canScheduleSearch()&&!this.model.report.isRealTime()&&this.$(".edit_actions").append('<li><a class="edit-schedule" href="#">'+_("Edit Schedule").t()+"</a></li>"),!this.model.report.isPivotReport()&&this.model.user.canAccelerateReport()&&this.$(".edit_actions").append('<li><a class="edit-acceleration" href="#">'+_("Edit Acceleration").t()+"</a></li>"),this.options.showSummaryIndexing&&this.model.user.canScheduleSearch()&&!this.model.report.isRealTime()&&this.$(".edit_actions").append('<li><a class="edit-summary-indexing" href="#">'+_("Edit Summary Indexing").t()+"</a></li>"),this.options.showDisable){var enableText=isDisabled?_("Enable").t():_("Disable").t();this.$(".edit_actions").append('<li><a class="enable-disable" href="#">'+enableText+"</a></li>")}this.options.showAdvancedEdit&&canAdvancedEdit&&this.$(".edit_actions").append('<li><a href="#" class="advanced-edit">'+_("Advanced Edit").t()+' <i class="icon-external"></i></a></li>')}else this.$(".edit_actions").remove();return canClone&&this.$(".other_actions").append('<li><a href="#" class="clone">'+_("Clone").t()+"</a></li>"),canEmbed&&this.$(".other_actions").append('<li><a href="#" class="embed">'+_("Embed").t()+"</a></li>"),this.options.showMove&&canMove&&this.$(".other_actions").append('<li><a href="#" class="move">'+_("Move").t()+"</a></li>"),canDelete&&!isEmbedded&&this.$(".other_actions").append('<li><a href="#" class="delete">'+_("Delete").t()+"</a></li>"),this.model.searchJob&&this.model.searchJob.isPreparing()&&(this.$("a.clone").addClass("disabled"),this.$("a.edit-acceleration").addClass("disabled")),this},template:'\t                <ul class="edit_messages ">\t                </ul>\t                <ul class="open_actions">\t                    <li><a class="open-in-<%- openInView %>" href="<%- openInUrl %>"><%- openInText %></a></li>\t                </ul>\t                <ul class="edit_actions">\t                </ul>\t                <ul class="other_actions">\t                </ul>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/documentcontrols/dialogs/EditSearchDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("models/services/authentication/User"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/searchbarinput/Master"),__webpack_require__("views/shared/documentcontrols/dialogs/EditSearchDialog.pcss"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,UserModel,Modal,ControlGroup,FlashMessage,SearchInputView,css,route){return Modal.extend({moduleId:module.id,initialize:function(options){Modal.prototype.initialize.apply(this,arguments);var defaults={showSearchField:!1};if(_.defaults(this.options,defaults),this.modelAttribute="description",_.isFunction(this.model.report.isDataset)&&this.model.report.isDataset()&&"table"===this.model.report.getType()&&(this.modelAttribute="dataset.description"),this.model.inmem=this.model.report.clone(),this.children.flashMessage=new FlashMessage({model:this.model.inmem}),this.children.titleField=new ControlGroup({controlType:"Label",controlOptions:{modelAttribute:"name",model:this.model.inmem.entry},label:_("Title").t()}),this.children.descriptionField=new ControlGroup({controlType:"Textarea",controlOptions:{modelAttribute:this.modelAttribute,model:this.model.inmem.entry.content,placeholder:_("optional").t()},label:_("Description").t()}),this.options.showSearchField){this.children.search=new SearchInputView({model:{user:this.model.user,content:this.model.inmem.entry.content,application:this.model.application},collection:{searchBNFs:this.collection.searchBNFs},searchAttribute:"search",searchAssistant:this.model.user.getSearchAssistant()===UserModel.SEARCH_ASSISTANT.FULL?UserModel.SEARCH_ASSISTANT.COMPACT:void 0});var timeRangeHelpLink=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.manager.relativetime"),helpText=_("Time specifiers: y, mon, d, h, m, s ").t()+'<a href="'+_.escape(timeRangeHelpLink)+'" target="_blank">'+_("Learn More").t()+' <i class="icon-external"></i></a>';this.children.earliestTime=new ControlGroup({controlType:"Text",controlOptions:{modelAttribute:"dispatch.earliest_time",model:this.model.inmem.entry.content,placeholder:_("optional").t()},label:_("Earliest time").t(),help:helpText}),this.children.latestTime=new ControlGroup({controlType:"Text",controlOptions:{modelAttribute:"dispatch.latest_time",model:this.model.inmem.entry.content,placeholder:_("optional").t()},label:_("Latest time").t(),help:helpText})}this.on("hidden",function(){this.model.inmem.get("updated")>this.model.report.get("updated")&&(this.model.report.entry.content.set(this.modelAttribute,this.model.inmem.entry.content.get(this.modelAttribute)),this.model.report.entry.set("updated",this.model.inmem.entry.get("updated")),this.model.report.trigger("updateCollection"))},this)},events:$.extend({},Modal.prototype.events,{"click .btn-primary":function(e){this.model.inmem.save({},{success:function(model,response){this.hide()}.bind(this)}),e.preventDefault()}}),render:function(){this.$el.html(Modal.TEMPLATE);var title=_("Edit Description").t();return this.options.showSearchField&&(title=_("Edit Search").t()),this.$(Modal.HEADER_TITLE_SELECTOR).html(title),this.children.flashMessage.render().prependTo(this.$(Modal.BODY_SELECTOR)),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),this.children.titleField.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.descriptionField.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.options.showSearchField&&(this.$el.addClass(Modal.CLASS_MODAL_WIDE),this.$(Modal.BODY_FORM_SELECTOR).append('<div class="search-input"></div>'),this.$("div.search-input").append('<div class="search-label">'+_("Search").t()+"</div>"),this.children.search.render().appendTo(this.$("div.search-input")),this.children.earliestTime.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.latestTime.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR))),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_SAVE),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/documentcontrols/dialogs/EditSearchDialog.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(851);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(12)(content,{});content.locals&&(module.exports=content.locals)},857:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(11)(),exports.push([module.id,'.reports-table>.table{background-color:#fff;box-shadow:0 1px 1px #e1e6eb;margin-bottom:20px;width:auto}@supports (-ms-ime-align:auto){.reports-table>.table{position:relative}.reports-table>.table:before{content:"";display:inline-block;position:absolute;top:0;left:0;height:100%;width:100%;pointer-events:none;background:transparent;box-shadow:0 1px 1px #e1e6eb}}@media screen and (-ms-high-contrast:active),screen and (-ms-high-contrast:none){.reports-table>.table{position:relative}.reports-table>.table:before{content:"";display:inline-block;position:absolute;top:0;left:0;height:100%;width:100%;pointer-events:none;background:transparent;box-shadow:0 1px 1px #e1e6eb}}.reports-table>.table>tbody>tr>td.title>a{text-overflopw:ellipsis;min-width:150px;max-width:calc(100vw - 800px)}.reports-table>.table>tbody>tr.expanded>td.title>a{word-break:break-word;white-space:unset}.section-description{margin-bottom:0;max-width:700px}.col-actions{width:240px}.actions-edit>a{float:left;width:50%}.actions-edit>div{display:inline-block;width:50%}.col-next-scheduled-time{width:190px}.col-app,.col-owner{width:90px;white-space:nowrap;text-overflow:ellipsis}.col-sharing{width:70px}.col-embedding{width:95px}p.description{word-wrap:break-word}td.app,td.owner{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.expanded td.app,.expanded td.owner{white-space:normal;word-break:break-all}.timerange>.controls>.btn{box-sizing:border-box;width:100%}.shared-reportcontrols-details-schedule{word-wrap:break-word}.reports-tiles{color:#3c444d}.reports-tiles-reporttilelist{padding:0 40px}.reports-tiles-reporttile{display:inline-block;vertical-align:top;margin:6px}.reports-tiles-reporttile .tile-shape{position:relative;width:230px;height:280px;border-radius:2px;background-color:#3c444d;color:#fff}.reports-tiles-reporttile .tile-icon{position:absolute;top:120px;left:0;right:0;text-align:center}.reports-tiles-reporttile .tile-name{position:absolute;top:40px;left:20px;right:20px;max-height:80px;overflow:hidden;font-size:14px;text-align:center}.reports-tiles-reporttile .tile-actions{position:absolute;top:0;left:0;bottom:0;right:0}.reports-tiles-reporttile .tile-actions .action-edit{position:absolute;top:10px;right:10px;color:#e1e6eb;text-decoration:none}.reports-tiles-reporttile .tile-actions .action-edit .caret{font-size:8px}.reports-tiles-reporttile .tile-actions .action-edit:hover{color:#fff}.reports-tiles-reporttile .tile-actions .action-buttons{position:absolute;bottom:14px;right:10px}.reports-tiles-reporttile .tile-actions .action-buttons .btn{margin:3px;border-color:#c3cbd4!important;background-color:#3c444d;color:#e1e6eb;box-shadow:none;text-shadow:none}.reports-tiles-reporttile .tile-actions .action-buttons .btn:hover{border-color:#fff!important;color:#fff}',""])},"views/shared/reportcontrols/dialogs/summaryindexingdialog/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("models/services/search/IntentionsParser"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/basemanager/SearchableDropdown/Master"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("views/shared/reportcontrols/dialogs/summaryindexingdialog/AddFieldsSection"),__webpack_require__("views/shared/reportcontrols/dialogs/summaryindexingdialog/Master.pcss"),__webpack_require__("views/shared/reportcontrols/dialogs/schedule_dialog/Master"),__webpack_require__("shim/splunk.util"),__webpack_require__("uri/route"),__webpack_require__("util/string_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,IntentionsParserModel,Modal,ControlGroup,SearchableDropdown,FlashMessage,AddFieldsSection,css,ScheduleDialog,splunkUtil,route,stringUtils){var FIELD_PREFIX="action.summary_index.";return Modal.extend({moduleId:module.id,className:Modal.CLASS_NAME+" "+Modal.CLASS_MODAL_WIDE,events:$.extend({},Modal.prototype.events,{"click .save.modal-btn-primary":function(e){var summaryIndexOn=this.model.inmem.entry.content.get("action.summary_index"),untrimmedActions=this.model.inmem.entry.content.get("actions");untrimmedActions=untrimmedActions.split(",");for(var actions=[],i=0;i<untrimmedActions.length;i++)actions.push(untrimmedActions[i].trim());actions.indexOf("summary_index")===-1?summaryIndexOn&&actions.push("summary_index"):summaryIndexOn||actions.splice(actions.indexOf("summary_index"),1),actions=actions.join(","),this.model.inmem.entry.content.set("actions",actions),summaryIndexOn&&(_.each(_.keys(this.filterToExistingFields()),function(key){var slicedKey=key.slice(FIELD_PREFIX.length);this.model.fieldList.has(slicedKey)?this.model.inmem.entry.content.set(key,this.model.fieldList.attributes[slicedKey]):this.model.inmem.entry.content.set(key,"")}.bind(this)),_.each(_.keys(this.model.fieldList.attributes),function(key){this.model.inmem.entry.content.set(FIELD_PREFIX+key,this.model.fieldList.get(key))}.bind(this))),this.model.inmem.save({},{success:function(model,response){this.model.report.fetch(),this.remove(),this.model.controller&&this.model.controller.trigger("refreshEntities")}.bind(this)}),e.preventDefault()},"click .modal-btn-primary.schedule-report":function(e){this.hide();var scheduleDialog=new ScheduleDialog({model:{report:this.model.report,application:this.model.application,user:this.model.user,appLocal:this.model.appLocal,controller:this.model.controller},onHiddenRemove:!0});scheduleDialog.render().appendTo($("body")),scheduleDialog.show(),e.preventDefault()}}),initialize:function(options){Modal.prototype.initialize.apply(this,arguments),this.model={report:this.model.report,inmem:this.model.report.clone(),application:this.model.application,user:this.model.user,controller:this.model.controller},this.model.intentionsParser=new IntentionsParserModel,this.intentionsParserDeferred=this.model.intentionsParser.fetch({data:{q:this.model.report.entry.content.get("search"),timeline:!1,app:this.model.application.get("app"),owner:this.model.application.get("owner"),parse_only:!0}}),this.children.flashMessage=new FlashMessage({model:this.model.inmem}),this.children.name=new ControlGroup({controlType:"Label",controlOptions:{modelAttribute:"name",model:this.model.inmem.entry},label:_("Report").t()});var summaryIndexingHelpLink=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.summaryindexing");this.children.summarize=new ControlGroup({controlType:"SyntheticCheckbox",controlOptions:{modelAttribute:"action.summary_index",model:this.model.inmem.entry.content},label:_("Enable Summary Indexing").t(),help:_("Summary indexing is an alternative to report acceleration. Only use it if report acceleration does not fit your use case. ").t()+'<a href="'+_.escape(summaryIndexingHelpLink)+'" target="_blank">'+_("Learn More").t()+' <i class="icon-external"></i></a>'}),this.summaryIndexesSelect=new SearchableDropdown({modelAttribute:"action.summary_index._name",model:this.model.inmem.entry.content,multiSelect:!1,toggleClassName:"btn",popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"},collection:{search:this.collection.indexes,listing:this.collection.indexes}}),this.children.summaryIndexes=new ControlGroup({controls:[this.summaryIndexesSelect],label:_("Select the summary index").t(),help:_("Only indexes you can write to are listed.").t()});var existingFields=this.filterToExistingFields(),choppedFields={};_.each(_.keys(existingFields),function(key){choppedFields[key.slice(FIELD_PREFIX.length)]=existingFields[key]}.bind(this)),this.model.fieldList=new Backbone.Model(choppedFields),this.children.addFields=new AddFieldsSection({model:{fieldList:this.model.fieldList}}),this.model.inmem.entry.content.on("change:action.summary_index",function(){this.model.inmem.entry.content.get("action.summary_index")?this.showSummaryOptions():this.hideSummaryOptions()},this)},filterToExistingFields:function(){var filteredKeys=this.model.inmem.entry.content.keys().filter(function(key){return stringUtils.strStartsWith(key,FIELD_PREFIX)}),defaultFields=["action.summary_index._name","action.summary_index.inline","action.summary_index.command","action.summary_index.ttl","action.summary_index.hostname","action.summary_index.track_alert","action.summary_index.maxresults","action.summary_index.maxtime"];return _(this.model.inmem.entry.content.omit(defaultFields)).pick(filteredKeys)},showSummaryOptions:function(){this.children.summaryIndexes.$el.show(),""===this.model.inmem.entry.content.get("action.summary_index._name")&&this.model.inmem.entry.content.set("action.summary_index._name","summary"),this.children.addFields.$el.show()},hideSummaryOptions:function(){this.children.summaryIndexes.$el.hide(),this.children.addFields.$el.hide()},render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Edit Summary Index").t()),this.children.flashMessage.render().prependTo(this.$(Modal.BODY_SELECTOR)),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),$.when(this.intentionsParserDeferred).then(function(){var isScheduled=this.model.report.entry.content.get("is_scheduled");isScheduled?(this.children.name.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.summarize.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.summaryIndexes.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.addFields.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.model.inmem.entry.content.get("action.summary_index")?this.showSummaryOptions():this.hideSummaryOptions(),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="save btn btn-primary modal-btn-primary pull-right">'+_("Save").t()+"</a>")):(this.$(Modal.BODY_FORM_SELECTOR).append("<div>"+_("This report must be scheduled before summary indexing can be enabled.").t()+"</div>"),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary pull-right schedule-report">'+_("Schedule Report").t()+"</a>"))}.bind(this),function(){this.$(Modal.BODY_FORM_SELECTOR).append("<div>"+_("This saved search cannot perform summary indexing because it has a malformed search.").t()+"</div>"),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_DONE)}.bind(this)),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/basemanager/SearchableDropdown/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/shared/delegates/Popdown"),__webpack_require__("views/shared/controls/TextControl"),__webpack_require__("shim/splunk.util"),__webpack_require__("util/string_utils"),__webpack_require__("util/keyboard"),__webpack_require__("views/Base"),__webpack_require__("views/shared/basemanager/SearchableDropdown/Master.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,Popdown,InputView,splunkUtil,stringUtil,keyboardUtil,BaseView){var defaultOptions={toggleClassName:"btn",menuClassName:"",rerenderMenuOnShow:!0,popdownOptions:{}},toggleClass="dropdown-toggle",labelClass="dropdown-label-container",menuClass="dropdown-menu-container",DropdownView=BaseView.extend({moduleId:module.id,className:"control btn-group",initialize:function(){BaseView.prototype.initialize.apply(this,arguments);var popdownIgnoreClasses=["ignore-clicks"];this.options=$.extend(!0,{},defaultOptions,this.options),this.options.popdownOptions.el=this.el,_.isArray(this.options.popdownOptions.ignoreClasses)?this.options.popdownOptions.ignoreClasses=this.options.popdownOptions.ignoreClasses.concat(popdownIgnoreClasses):this.options.popdownOptions.ignoreClasses=popdownIgnoreClasses,this.children.popdown=new Popdown(this.options.popdownOptions),this.options.rerenderMenuOnShow&&this.listenTo(this.children.popdown,"show",this.renderMenu),this.listenTo(this.children.popdown,"hidden",this.onMenuHidden),this.popdownDialogEvents={}},getLabelText:function(){},getMenuHTML:function(){},renderLabel:function(){this.$("."+labelClass).text(this.getLabelText()),this.delegateEvents()},renderMenu:function(){this.$menu||(this.$menu=this.$("."+menuClass)),this.$menu.html(this.getMenuHTML())},onMenuHidden:function(){this.$("."+toggleClass).focus()},render:function(){return this.$el.html(this.compiledTemplate({toggleClass:toggleClass,labelClass:labelClass,menuClass:menuClass})),this.$("."+toggleClass).addClass(this.options.toggleClassName).addClass("searchable-dropdown"),this.$(".dropdown-menu").addClass(this.options.menuClassName),this.renderLabel(),this.renderMenu(),this},template:'\t            <a class="<%- toggleClass %>" href="#">\t                <i class="icon-large"></i>\t                <span class="<%- labelClass %>"></span>\t                <span class="caret"></span>\t            </a>\t            <div class="dropdown-menu"><div class="arrow"></div><div class="<%- menuClass %>"></div></div>\t        '},{LABEL_SELECTOR:"."+labelClass,MENU_SELECTOR:"."+menuClass,TOGGLE_SELECTOR:"."+toggleClass}),OptionModel=Backbone.Model.extend({defaults:{label:"",value:null,icon:void 0,iconClassName:"",iconURL:void 0,iconURLClassName:"",description:void 0,descriptionPosition:"bottom",selected:!1,disabled:!1},idAttribute:"value"}),OptionsCollection=Backbone.Collection.extend({model:OptionModel,comparator:"value",addStaticOption:function(option,otherOptions){option.__type="static",this.add(option,otherOptions)},getStaticModels:function(){return this.where({__type:"static"})},addSelectedOption:function(option,otherOptions){option.__type="selected",this.add(option,otherOptions)},getSelectedModels:function(){return this.where({__type:"selected"})},addDynamicOption:function(option,otherOptions){option.__type="dynamic",this.add(option,otherOptions)},getDynamicModels:function(){return this.where({__type:"dynamic"})},markAsSelected:function(values){values=_.isArray(values)?values:[values],_.each(values,function(value){var model=this.get(value);model&&model.set("selected",!0)}.bind(this))},markAsUnselected:function(value){var model=this.get(value);return!!model&&(model.set("selected",!1),!0)},clearAllSelection:function(value){this.each(function(model){model.set("selected",!1)})},getSelected:function(){return this.filter(function(model){return model.get("selected")})}}),OptionView=BaseView.extend({moduleId:module.id,tagName:"a",className:"synthetic-select",render:function(){return this.$el.html(this.compiledTemplate({item:this.model.toJSON()})),this.model.get("disabled")&&this.$el.addClass("disabled"),this.model.get("selected")&&(this.$el.attr("data-selected","selected"),this.$(".icon-check").show()),this.$el.attr("tabindex",0),this.$el.data(this.model.toJSON()),this},template:'\t            <i class="icon-check" style="display:none"></i>\t            <% if (item.icon) { %> <i class="icon-<%-item.icon%> <%-item.iconClassName %>"></i><% } %>\t            <% if (item.iconURL) { %> <img class="<%-item.iconURLClassName %>" src="<%-item.iconURL%>" alt="icon"><% } %>\t            <span class="link-label"><%- item.label %></span>\t            <% if (item.description && (item.descriptionPosition == "right")) { %> <span class="link-description"><%- item.description %></span><% } %>\t            <% if (item.description && (item.descriptionPosition == "bottom")) { %> <span class="link-description-below"><%- item.description %></span><% } %>\t        '}),SearchableMenu=DropdownView.extend({moduleId:module.id,initialize:function(options){if(options||(options={}),DropdownView.prototype.initialize.call(this,options),_.defaults(this.options,{label:"",valueSeparator:",",maxLabelLength:50,multiSelect:!0,menuClassName:"",unsetModelOnInvalidValue:!0,renderOptionsAs:"sortedByValue",searchPrompt:_("filter").t()}),this.options.menuClassName=this.options.menuClassName+" dropdown-menu-selectable dropdown-menu-searchable dropdown-menu-wide",this.modelToOptionConverter=this.options.modelToOptionConverter||this._modelToOptionConverter,!this.model||!this.options.modelAttribute)throw new Error("model and modelAttribute are required");if(this.options.modelAttribute&&this.$el.attr("data-name",this.options.modelAttribute),this.model={target:this.model,filter:new Backbone.Model},this.listenTo(this.model.target,"change:"+this.options.modelAttribute,this.renderLabel),this.collection||(this.collection={}),this.isSearchable=!!this.collection.search,this.isSearchable&&!(this.collection.search&&_.isFunction(this.collection.search.searchByValues)&&_.isFunction(this.collection.search.search)))throw this.isSearchable=!1,new Error("Please make sure the search collection implements searchByValues and search functions");this.collection._options=this.collection._options||new OptionsCollection,this.collection._searchOptions=this.collection._searchOptions||new OptionsCollection,this.__addStaticOptions(),this.__addDynamicOptions(),
$.when(this.__addCurrentlySetOption()).done(this._setInitialSelection.bind(this)),this.children=this.children||{},this.children.options=this.children.options||[],this.children.searchOptions=this.children.searchOptions||[],this.isSearchable&&(this.children.searchFilter=new InputView({canClear:!0,style:"search",updateOnKeyUp:!0,updateOnAutofill:!0,model:this.model.filter,modelAttribute:"rawSearch",placeholder:this.options.searchPrompt}),this.listenTo(this.model.filter,"change:rawSearch",_.debounce(this.performSearch,250)),this.listenTo(this.collection.search,"request",this._showLoading),this.listenTo(this.collection.search,"reset",this._hideLoading),this.listenTo(this.collection.search,"reset",this.updateSearchResults)),this.compiledMenuTemplate=this.compileTemplate(this.menuTemplate),this.handleSyntheticSelectClickBound=this.handleSyntheticSelectClick.bind(this)},__addStaticOptions:function(){this.options.staticOptions||(this.options.staticOptions=[]),_.each(this.options.staticOptions,function(option){this.collection._options.addStaticOption(option)}.bind(this))},__addDynamicOptions:function(){this.collection.listing&&this.collection.listing.each(function(model){this.collection._options.addDynamicOption(this.modelToOptionConverter(model))}.bind(this))},__addCurrentlySetOption:function(){var currentlySetValues,$deferred=$.Deferred(),currentlySetValue=this.model.target.get(this.options.modelAttribute);if(_.isString(currentlySetValue)&&(currentlySetValues=currentlySetValue.split(this.options.valueSeparator)),_.isEmpty(currentlySetValues))return $deferred.resolve();var validateAndAddValues=[];return this.isSearchable?(_.each(currentlySetValues,function(value){this.collection._options.get(value)||validateAndAddValues.push(value)}.bind(this)),!this.options.multiSelect&&validateAndAddValues.length>0&&(validateAndAddValues=[validateAndAddValues[0]]),this.validateAndAddSelectedOptions(validateAndAddValues)):($deferred.resolve(),$deferred)},validateAndAddSelectedOptions:function(values){if(_.isEmpty(values))return $.Deferred().resolve();var successFn=function(models){_.each(models,function(model){var option=this.modelToOptionConverter(model);option.selected=!0,this.collection._options.addDynamicOption(option),$deferredAdd.resolve()}.bind(this))}.bind(this),$deferredAdd=this.collection.search.searchByValues(values);return $.when($deferredAdd).then(successFn).fail(function(){$deferredAdd.reject()}),$deferredAdd},_setInitialSelection:function(){var value=this.model.target.get(this.options.modelAttribute),values=_.isString(value)&&value.split(this.options.valueSeparator);!this.options.multiSelect&&values.length>0&&(this.collection._options.clearAllSelection(),values=[values[0]]),_.each(values,function(value){this.collection._options.markAsSelected(value)}.bind(this)),this._updateModel(),this.renderLabel()},_updateModel:function(){var selectedModels=this.collection._options.getSelected(),selectedValues=_.map(selectedModels,function(model){return model.get("value")}),value=selectedValues.join(this.options.valueSeparator);this.model.target.set(this.options.modelAttribute,value)},handleSyntheticSelectKeyup:function(e){e.which===keyboardUtil.KEYS.ENTER&&(this.handleSyntheticSelectClick(e),this.children.popdown.hide())},handleSyntheticSelectClick:function(e){e.preventDefault();var $target=$(e.currentTarget);if(!$target.hasClass("disabled")){var data=$target.data(),modelValue=data.value;if(!_.isEmpty(this.model.filter.get("rawSearch"))){var optionModel=this.collection._searchOptions.get(data.value);this.collection._options.addDynamicOption(optionModel)}this.options.multiSelect?data.selected?this.collection._options.markAsUnselected([modelValue]):this.collection._options.markAsSelected([modelValue]):(this.collection._options.clearAllSelection(),this.collection._options.markAsSelected([modelValue])),this._updateModel(),this.clearSearch()}},_showLoading:function(){this.$menu&&this.$menu.find(".info").html(_("Loading ...").t()).show()},_hideLoading:function(){if(this.$menu){var $info=this.$menu.find(".info");this.collection.search.length>0?$info.hide():_.isEmpty(this.model.filter.get("rawSearch"))?$info.hide():$info.html(_("No results found.").t())}},performSearch:function(model,value,options){return _.isEmpty(value)?(this.clearSearch(),this._hideLoading(),void this._renderOptions()):this.collection.search.search(value)},clearSearch:function(){this.collection._searchOptions.reset(),this.isSearchable&&this.children.searchFilter.clear(),_.each(this.children.searchOptions,function(view){view.remove()}),this.children.searchOptions.length=0},updateSearchResults:function(){this.collection._searchOptions.reset();var userSearch=this.model.filter.get("rawSearch");_.isEmpty(userSearch)||(this.collection.search.each(function(model){var option=this.modelToOptionConverter(model);this.collection._searchOptions.addDynamicOption(option)}.bind(this)),this.collection._searchOptions.markAsSelected(this.model.target.get(this.options.modelAttribute)),this._renderOptions())},_modelToOptionConverter:function(model){return{label:model.getLabel(),value:model.getValue()}},getOptionsHTML:function(collection){var $html=$("<ul></ul>");return _.each(this.children.options,function(view){view.remove()}),this.children.options.length=0,collection.each(function(model){var $option=$("<li></li>"),optionView=new OptionView({model:model});$option.html(optionView.render().el),$html.append($option),this.children.options.push(optionView)}.bind(this)),$html},_renderOptionsAsSortedByValue:function(){if(this.$menu){var $menuOptionsContainer=this.$menu.find(".menu-options");_.isEmpty(this.model.filter.get("rawSearch"))?$menuOptionsContainer.html(this.getOptionsHTML(this.collection._options)):$menuOptionsContainer.html(this.getOptionsHTML(this.collection._searchOptions))}},_renderOptions:function(){var renderAs=this.options.renderOptionsAs;switch(renderAs){default:this._renderOptionsAsSortedByValue()}},renderMenu:function(){this.$menu&&(this.$menu.off("click","a.synthetic-select",this.handleSyntheticSelectClickBound),this.$menu.off("keyup","a.synthetic-select")),DropdownView.prototype.renderMenu.apply(this,arguments),this.$menu.on("click","a.synthetic-select",this.handleSyntheticSelectClickBound),this.$menu.on("keyup","a.synthetic-select",this.handleSyntheticSelectKeyup.bind(this))},remove:function(){this.$menu&&(this.$menu.off("click","a.synthetic-select",this.handleSyntheticSelectClickBound),this.$menu.off("keyup","a.synthetic-select"),this.$menu=null),DropdownView.prototype.remove.apply(this,arguments)},getLabelText:function(){var selectedModels=this.collection._options.getSelected(),selectedLabels=_.map(selectedModels,function(model){return model.get("label")}),labelText=selectedLabels.length>0&&stringUtil.truncateTrailingString(this.options.label+selectedLabels.join(", "),this.options.maxLabelLength)||this.options.prompt;return labelText},getMenuHTML:function(){var $html=$(this.compiledMenuTemplate());return this.isSearchable?($html.find(".search-filter").append(this.children.searchFilter.render().el),this.children.searchFilter.clear()):$html.find(".searchables").hide(),this.$menu=$html,this._renderOptions(),$html.find(".info").hide(),$html},menuTemplate:'\t            <div>\t                <div class="searchables ignore-clicks search-filter"></div>\t                <div class="menu-options"></div>\t                <div class="ignore-clicks info"></div>\t            </div>\t        '});return SearchableMenu}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"routers/Reports":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("routers/BaseListings"),__webpack_require__("collections/search/Reports"),__webpack_require__("collections/shared/ModAlertActions"),__webpack_require__("models/services/AppLocal"),__webpack_require__("views/reports/Master"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,BaseListingsRouter,ReportsCollection,ModAlertActionsCollection,AppLocalModel,ReportsView,splunkUtil){return BaseListingsRouter.extend({initialize:function(){BaseListingsRouter.prototype.initialize.apply(this,arguments),this.fetchVisualizations=!0,this.fetchVisualizationFormatters=!1,this.setPageTitle(_("Reports").t()),this.loadingMessage=_("Loading...").t(),window.location.pathname.indexOf("system/reports")!=-1&&(this.enableAppBar=!1),this.stateModel.set({sortKey:"name",sortDirection:"asc",count:100,offset:0}),this.stateModel.set("fetching",!0),this.deferreds.namespaceAppDeferred=$.Deferred(),this.deferredAlertActionCollection=$.Deferred(),this.reportsCollection=new ReportsCollection,this.namespaceTestModel=new AppLocalModel,this.alertActionsCollection=new ModAlertActionsCollection,$.when(this.deferreds.user).then(function(){this.model.user.canUseAlerts()?this.alertActionsCollection.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner"),search:"disabled!=1"},addListInTriggeredAlerts:!1,success:function(model,response){this.deferredAlertActionCollection.resolve()}.bind(this),error:function(model,response){this.deferredAlertActionCollection.resolve()}.bind(this)}):this.deferredAlertActionCollection.resolve()}.bind(this)),this.stateModel.on("change:sortDirection change:sortKey change:search change:offset",_.debounce(function(){this.fetchListCollection()}.bind(this),0),this),this.reportsCollection.on("destroy",function(){this.fetchListCollection()}.bind(this),this)},initializeAndRenderViews:function(){$.when(this.deferredAlertActionCollection,this.deferreds.namespaceAppDeferred).then(_(function(){this.reportsView=new ReportsView({model:{state:this.stateModel,application:this.model.application,appLocal:this.model.appLocal,classicurl:this.model.classicurl,user:this.model.user,uiPrefs:this.uiPrefsModel,serverInfo:this.model.serverInfo,rawSearch:this.rawSearch},collection:{reports:this.reportsCollection,roles:this.rolesCollection,apps:this.collection.appLocals,alertActions:this.alertActionsCollection}}),this.pageView.$(".main-section-body").html(this.reportsView.render().el),this.uiPrefsModel.entry.content.on("change",function(){this.populateUIPrefs()},this),this.uiPrefsModel.entry.content.on("change:display.prefs.aclFilter",function(){this.fetchListCollection()},this)}).bind(this))},fetchListCollection:function(){var namespaceCandidate=this.model.classicurl.decode(window.location.search).ns;!this.model.user.canUseApps()&&namespaceCandidate?(this.namespaceTestModel.set({id:this.namespaceTestModel.url+"/"+namespaceCandidate}),this.namespaceTestModel.fetch({success:function(model,response){this.setPageTitle(splunkUtil.sprintf(_("Reports for %s").t(),namespaceCandidate)),this.stateModel.set("namespace",namespaceCandidate),this.deferreds.namespaceAppDeferred.resolve()}.bind(this),error:function(model,response){namespaceCandidate=void 0,this.deferreds.namespaceAppDeferred.resolve()}.bind(this)})):this.deferreds.namespaceAppDeferred.resolve(),$.when(this.deferreds.namespaceAppDeferred).then(_(function(){this.model.classicurl.fetch(),this.model.classicurl.get("search")&&(this.stateModel.set("search",this.model.classicurl.get("search"),{silent:!0}),this.model.classicurl.unset("search"),this.model.classicurl.save({},{replaceState:!0})),this.model.classicurl.get("rawSearch")&&(this.rawSearch.set("rawSearch",this.model.classicurl.get("rawSearch"),{silent:!0}),this.model.classicurl.unset("rawSearch"),this.model.classicurl.save({},{replaceState:!0}));var search=this.stateModel.get("search")||"",buttonFilterSearch=this.getButtonFilterSearch();search&&(search+=" AND "),buttonFilterSearch&&(search+=buttonFilterSearch+" AND "),search+=ReportsCollection.availableWithUserWildCardSearchString(this.model.application.get("owner"))+" AND is_visible=1",namespaceCandidate&&(search+=" AND eai:acl.app = "+namespaceCandidate),this.stateModel.set("fetching",!0),this.reportsCollection.safeFetch({data:{app:"system"===this.model.application.get("app")?"-":this.model.application.get("app"),owner:"-",sort_dir:this.stateModel.get("sortDirection"),sort_key:this.stateModel.get("sortKey").split(","),sort_mode:["natural","natural"],search:search,count:this.stateModel.get("count"),listDefaultActionArgs:!0,offset:this.stateModel.get("offset"),show_all_embedded_tokens:"1"},excludeAlerts:!0,success:function(){this.reportsCollection.touched||this.stateModel.set("fetching",!1)}.bind(this)})}).bind(this))}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/reports/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/reports/Title"),__webpack_require__("views/reports/table/Master"),__webpack_require__("views/reports/tiles/Master"),__webpack_require__("views/shared/tablecaption/Master"),__webpack_require__("views/reports/Master.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,TitleView,TableView,TilesView,CaptionView,css){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.title=new TitleView({model:{serverInfo:this.model.serverInfo,state:this.model.state}}),this.children.caption=new CaptionView({countLabel:_("Reports").t(),model:{state:this.model.state,application:this.model.application,uiPrefs:this.model.uiPrefs,user:this.model.user,serverInfo:this.model.serverInfo,rawSearch:this.model.rawSearch},collection:this.collection.reports,showListModeButtons:this.model.serverInfo.isLite()}),this.model.serverInfo.isLite()&&this.listenTo(this.model.uiPrefs.entry.content,"change:display.prefs.listMode",this.debouncedRender)},render:function(){return this.el.innerHTML||(this.$el.html(this.compiledTemplate({isLite:this.model.serverInfo.isLite()})),this.children.title.render().appendTo(this.$(".section-header")),this.children.caption.render().appendTo(this.$el)),this.model.serverInfo.isLite()&&"tiles"===this.model.uiPrefs.entry.content.get("display.prefs.listMode")?this._renderTiles():this._renderTable(),this},_renderTiles:function(){this.children.table&&(this.children.table.remove(),delete this.children.table),this.children.tiles||(this.children.tiles=new TilesView({model:{state:this.model.state,application:this.model.application,uiPrefs:this.model.uiPrefs,userPref:this.model.userPref,user:this.model.user,appLocal:this.model.appLocal,serverInfo:this.model.serverInfo},collection:{reports:this.collection.reports,roles:this.collection.roles,apps:this.collection.apps,alertActions:this.collection.alertActions}})),this.children.tiles.render().appendTo(this.$el)},_renderTable:function(){this.children.tiles&&(this.children.tiles.remove(),delete this.children.tiles),this.children.table||(this.children.table=new TableView({model:{state:this.model.state,application:this.model.application,uiPrefs:this.model.uiPrefs,userPref:this.model.userPref,user:this.model.user,appLocal:this.model.appLocal,serverInfo:this.model.serverInfo},collection:{reports:this.collection.reports,roles:this.collection.roles,apps:this.collection.apps,alertActions:this.collection.alertActions}})),this.children.table.render().appendTo(this.$el)},template:'<div class="section-header page-heading"></div>'})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/dialogs/summaryindexingdialog/AddFieldsSection":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/reportcontrols/dialogs/summaryindexingdialog/NewFieldRow")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,BaseView,NewFieldRow){return BaseView.extend({moduleId:module.id,events:{"click .add-another-field":function(e){e.preventDefault();var newRow=new NewFieldRow({model:this.model.fieldList,numRow:this.settingRows.length});this.settingRows.push(newRow),newRow.render().appendTo(this.$(".additional-field-placeholder")),this.listenTo(newRow,"closeRow",this.onCloseRow)}},initialize:function(options){if(BaseView.prototype.initialize.call(this,options),this.settingRows=[],_.each(_.keys(this.model.fieldList.attributes),function(k){var newRow=new NewFieldRow({model:this.model.fieldList,numRow:this.settingRows.length,defaultKey:k,defaultValue:this.model.fieldList.attributes[k]});this.settingRows.push(newRow),this.listenTo(newRow,"closeRow",this.onCloseRow)}.bind(this)),!this.settingRows.length){var newRow=new NewFieldRow({model:this.model.fieldList,numRow:this.settingRows.length});this.settingRows.push(newRow)}},onCloseRow:function(row,key){var rowIndex=_(this.settingRows).indexOf(row);this.stopListening(row),row.detach(),rowIndex!=-1&&this.settingRows.splice(rowIndex,1)},render:function(){return this.$el.html(this.compiledTemplate({})),_.each(this.settingRows,function(newRow){newRow.render().appendTo(this.$(".additional-field-placeholder"))}.bind(this)),this},template:'\t                <div class="field-label"><%- _("Add Fields").t() %></div>\t                <div class="fields-section">\t                    <div class="additional-field-placeholder"></div>\t                    <div><a href="#" class="add-another-field"><%- _("Add another field").t() %></a></div>\t                </div>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/dialogs/summaryindexingdialog/NewFieldRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/KeyValueControl")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,BaseView,KeyValueControl){return BaseView.extend({moduleId:module.id,className:"clearfix",events:{"click .close-row":"onCloseRow","keypress .close-row":function(e){13===e.keyCode&&this.onCloseRow(e)}},initialize:function(options){BaseView.prototype.initialize.call(this,options),this.children.keyValueControl=new KeyValueControl({model:this.model,defaultKey:this.options.defaultKey,defaultValue:this.options.defaultValue,keyTextControlOptions:{modelAttribute:"summaryIndex.newField.key"+this.options.numRow},valueTextControlOptions:{modelAttribute:"summaryIndex.newField.value"+this.options.numRow},showSeparator:!0})},onCloseRow:function(e){var key=this.children.keyValueControl.getKey();this.children.keyValueControl.unsetKey(),this.trigger("closeRow",this,key)},render:function(){return this.children.keyValueControl&&this.children.keyValueControl.detach(),this.$el.html(this.compiledTemplate({})),this.children.keyValueControl.render().appendTo(this.$(".key-value-control-placeholder")),this},template:'\t                <span class="key-value-control-placeholder" ></span>\t                <span tabindex="0" class="close-row"><i class="icon-x-circle"></i></span>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/controls/KeyValueControl":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/controls/TextControl"),__webpack_require__("views/shared/controls/KeyValueControl.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,TextControl,css){return BaseView.extend({moduleId:module.id,_key:void 0,_oldKey:void 0,_value:void 0,_oldValue:void 0,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.keyTextControl=new TextControl(this.options.keyTextControlOptions),this.children.valueTextControl=new TextControl(this.options.valueTextControlOptions),this.listenTo(this.children.keyTextControl,"change",this.onKeyTextControlChange),this.listenTo(this.children.valueTextControl,"change",this.onValueTextControlChange),_(this.options.defaultKey).isUndefined()||this.setKey(this.options.defaultKey),_(this.options.defaultValue).isUndefined()||this.setValue(this.options.defaultValue),this.options.showSeparator=!!this.options.hasOwnProperty("showSeparator")&&this.options.showSeparator},getKey:function(){return this._key},setKey:function(newKey,ignoreControl){this._key!=newKey&&(this._oldKey=this._key,_(this._oldKey).isUndefined()||this.model.unset(this._oldKey),this._key=""==newKey?void 0:newKey,ignoreControl||this.children.keyTextControl.setValue(this._key),_(this._key).isUndefined()||this.model.set(this._key,this._value),this.triggerChange())},onKeyTextControlChange:function(newKey,oldKey){this.setKey(newKey,!0)},onValueTextControlChange:function(newValue,oldValue){this.setValue(newValue,!0)},getValue:function(){return this._value},setValue:function(newValue,ignoreControl){this._value!=newValue&&(this._oldValue=this._value,this._value=newValue,ignoreControl||this.children.valueTextControl.setValue(this._value),_(this._key).isUndefined()||(this.model.set(this._key,this._value),this.triggerChange()))},unsetKey:function(){this.setKey(void 0),this.setValue(void 0),this._key=this._oldKey=void 0,this._value=this._oldValue=void 0},triggerChange:function(){this.trigger("change",this._oldKey,this._oldValue,this._key,this._value)},render:function(){this.$el.html(this.compiledTemplate({showSep:this.options.showSeparator})),this.children.keyTextControl.render().appendTo(this.$(".key-text-control-placeholder")),this.children.valueTextControl.render().appendTo(this.$(".value-text-control-placeholder"))},template:'\t            <div class="key-text-control-placeholder"></div>\t            <% if(showSep) { %>\t                <div class="key-value-separator">=</div>\t            <% } %>\t            <div class="value-text-control-placeholder"></div>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/controls/KeyValueControl.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(853);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(12)(content,{});content.locals&&(module.exports=content.locals)},"views/reports/Title":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,splunkUtil){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments)},render:function(){return this.$el.html(this.compiledTemplate({_:_,isLite:this.model.serverInfo.isLite(),title:this.model.state&&this.model.state.get("namespace")?splunkUtil.sprintf(_("Reports for %s").t(),this.model.state.get("namespace")):_("Reports").t()})),this},template:'\t                <h2 class="section-title"><%- title %></h2>\t                <p class="section-description">\t                    <% if (isLite) { %>\t                        <%- _("Reports are based on single searches and can include visualizations, statistics and/or events.").t() %>\t                    <% } else { %>\t                        <%- _("Reports are based on single searches and can include visualizations, statistics and/or events. Click the name to view the report. Open the report in Pivot or Search to refine the parameters or further explore the data.").t() %>\t                    <% } %>\t                </p>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/dialogs/summaryindexingdialog/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(854);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(12)(content,{});content.locals&&(module.exports=content.locals)},"views/reports/table/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("views/Base"),__webpack_require__("views/shared/TableHead"),__webpack_require__("views/shared/delegates/TableRowToggle"),__webpack_require__("views/reports/table/TableRow"),__webpack_require__("views/reports/table/MoreInfo"),__webpack_require__("views/shared/delegates/TableDock")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,$,_,BaseView,TableHeadView,TableRowToggleView,TableRow,MoreInfo,TableDock){return BaseView.extend({moduleId:module.id,className:"table-padded",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.tableRowToggle=new TableRowToggleView({el:this.el,collapseOthers:!0}),this.tableHeaders=[],this.tableHeaders.push({label:_("i").t(),ariaLabel:_("More Info").t(),className:"col-info",html:'<i class="icon-info"></i>'}),this.tableHeaders.push({label:_("Title").t(),sortKey:"name"}),this.tableHeaders.push({label:_("Actions").t(),className:"col-actions"}),this.tableHeaders.push({label:_("Next Scheduled Time").t(),sortKey:"next_scheduled_time",className:"col-next-scheduled-time"}),this.tableHeaders.push({label:_("Owner").t(),sortKey:"eai:acl.owner,name",className:"col-owner"}),this.model.user.canUseApps()&&this.tableHeaders.push({label:_("App").t(),sortKey:"eai:acl.app,name",className:"col-app"}),this.tableHeaders.push({label:_("Sharing").t(),sortKey:"eai:acl.sharing,name",className:"col-sharing"}),this.children.head=new TableHeadView({model:this.model.state,columns:this.tableHeaders}),this.children.rows=this.rowsFromCollection(),this.activate(),this.children.tableDock=new TableDock({el:this.el,offset:42,dockScrollBar:!1,defaultLayout:"fixed",flexWidthColumn:1})},startListening:function(){this.listenTo(this.collection.reports,"reset",this.renderRows)},rowsFromCollection:function(){var currentApp=this.model.application.get("app"),alternateApp="system"!==currentApp?currentApp:"search",searchApp=_.find(this.collection.apps.models,function(app){return"search"===app.entry.get("name")});"search"===alternateApp&&searchApp&&searchApp.entry.content.get("disabled")&&(this.collection.apps.sortWithString(this.model.userPref.entry.content.get("appOrder")),alternateApp=this.collection.apps.models[0].entry.get("name"));var numOfCols=this.tableHeaders.reduce(function(accum,item){return accum+=item.colSpan?item.colSpan:1},0);return _.flatten(this.collection.reports.map(function(model,i){return[new TableRow({model:{report:model,application:this.model.application,state:this.model.state,user:this.model.user,appLocal:this.model.appLocal,serverInfo:this.model.serverInfo},collection:{roles:this.collection.roles,apps:this.collection.apps,alertActions:this.collection.alertActions},index:i,alternateApp:alternateApp}),new MoreInfo({model:{report:model,application:this.model.application,user:this.model.user,appLocal:this.model.appLocal,serverInfo:this.model.serverInfo},collection:{roles:this.collection.roles,apps:this.collection.apps,alertActions:this.collection.alertActions},index:i,alternateApp:alternateApp,colSpan:numOfCols-1})]},this))},_render:function(){_(this.children.rows).each(function(row){row.render().appendTo(this.$(".report-listings"))},this),this.children.tableDock.update()},renderRows:function(){_(this.children.rows).each(function(row){row.remove()},this),this.children.rows=this.rowsFromCollection(),this._render()},render:function(){return this.el.innerHTML||(this.$el.append(this.compiledTemplate({})),this.children.head.render().prependTo(this.$("> .table-chrome"))),this._render(),this},template:'\t                <table class="table table-chrome table-striped table-row-expanding table-listing">\t                <tbody class="report-listings"></tbody>\t                </table>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/dialogs/AccelerationDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("models/services/search/IntentionsParser"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/ControlGroup"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("shim/splunk.util"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,IntentionsParserModel,Modal,ControlGroup,FlashMessage,splunkUtil,route){return Modal.extend({moduleId:module.id,initialize:function(options){Modal.prototype.initialize.apply(this,arguments),this.model={searchJob:this.model.searchJob,report:this.model.report,inmem:this.model.report.clone(),application:this.model.application,controller:this.model.controller},this.model.searchJob&&!this.model.searchJob.isNew()||(this.model.intentionsParser=new IntentionsParserModel,this.intentionsParserDeferred=this.model.intentionsParser.fetch({data:{q:this.model.report.entry.content.get("search"),timeline:!1,app:this.model.application.get("app"),owner:this.model.application.get("owner")}})),this.children.flashMessage=new FlashMessage({model:this.model.inmem}),this.children.name=new ControlGroup({controlType:"Label",controlOptions:{modelAttribute:"name",model:this.model.inmem.entry},label:_("Report").t()});var accelerateSearchHelpLink=route.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.search.acceleration");this.children.acceleration=new ControlGroup({controlType:"SyntheticCheckbox",controlOptions:{modelAttribute:"auto_summarize",model:this.model.inmem.entry.content},label:splunkUtil.sprintf(_("Accelerate %s").t(),this.model.report.isAlert()?_("Alert").t():_("Report").t()),help:_("Acceleration might increase storage and processing costs. ").t()+_("Acceleration can return invalid results if you change definitions of knowledge objects used in the search string after you accelerate the report. ").t()+'<a href="'+_.escape(accelerateSearchHelpLink)+'" target="_blank">'+_("Learn More").t()+' <i class="icon-external"></i></a>'}),this.children.summary_range=new ControlGroup({controlType:"SyntheticSelect",controlOptions:{modelAttribute:"auto_summarize.dispatch.earliest_time",model:this.model.inmem.entry.content,items:[{label:_("1 Day").t(),value:"-1d@h"},{label:_("7 Days").t(),value:"-7d@d"},{label:_("1 Month").t(),value:"-1mon@d"},{label:_("3 Months").t(),value:"-3mon@d"},{label:_("1 Year").t(),value:"-1y@d"},{label:_("All Time").t(),value:"0"}],save:!1,toggleClassName:"btn",labelPosition:"outside",elastic:!0,popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}},label:_("Summary Range").t(),tooltip:_("Sets the range of time (relative to now) for which data is accelerated. Example: 1 Month accelerates the last 30 days of data in your reports.").t()
}),this.model.inmem.entry.content.on("change:auto_summarize",function(){this.model.inmem.entry.content.get("auto_summarize")?(this.children.summary_range.$el.show(),""===this.model.inmem.entry.content.get("auto_summarize.dispatch.earliest_time")&&this.model.inmem.entry.content.set("auto_summarize.dispatch.earliest_time","-1d@h")):this.children.summary_range.$el.hide()},this),this.on("hidden",function(){this.model.inmem.get("updated")>this.model.report.get("updated")&&this.model.report.entry.content.set({auto_summarize:this.model.inmem.entry.content.get("auto_summarize"),"auto_summarize.dispatch.earliest_time":this.model.inmem.entry.content.get("auto_summarize.dispatch.earliest_time")})},this)},events:$.extend({},Modal.prototype.events,{"click .save.modal-btn-primary":function(e){this.model.inmem.save({},{success:function(model,response){this.model.report.fetch(),this.remove(),this.model.controller&&this.model.controller.trigger("refreshEntities")}.bind(this)}),e.preventDefault()}}),render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(_("Edit Acceleration").t()),this.children.flashMessage.render().prependTo(this.$(Modal.BODY_SELECTOR)),this.$(Modal.BODY_SELECTOR).append(Modal.FORM_HORIZONTAL),$.when(this.intentionsParserDeferred).then(function(){var canSummarize=(this.model.searchJob&&this.model.searchJob.canSummarize()||this.model.intentionsParser&&this.model.intentionsParser.get("canSummarize"))&&!this.model.inmem.isSampled();canSummarize?(this.model.inmem.setAccelerationWarning(canSummarize),this.children.name.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.acceleration.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.children.summary_range.render().appendTo(this.$(Modal.BODY_FORM_SELECTOR)),this.model.inmem.entry.content.get("auto_summarize")?this.children.summary_range.$el.show():this.children.summary_range.$el.hide(),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="save btn btn-primary modal-btn-primary pull-right">'+_("Save").t()+"</a>")):(this.$(Modal.BODY_FORM_SELECTOR).append("<div>"+_("This report cannot be accelerated.").t()+"</div>"),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_DONE))}.bind(this),function(){this.$(Modal.BODY_FORM_SELECTOR).append("<div>"+_("This report cannot be accelerated because it has a malformed search.").t()+"</div>"),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_DONE)}.bind(this)),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/dialogs/embed_dialog/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/reportcontrols/dialogs/embed_dialog/NotScheduled"),__webpack_require__("views/shared/reportcontrols/dialogs/embed_dialog/Confirmation"),__webpack_require__("views/shared/reportcontrols/dialogs/embed_dialog/Embed"),__webpack_require__("util/general_utils"),__webpack_require__("views/shared/reportcontrols/dialogs/embed_dialog/Master.pcss")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,ModalView,NotScheduledView,ConfirmationView,EmbedView,util,css){return ModalView.extend({moduleId:module.id,initialize:function(options){ModalView.prototype.initialize.apply(this,arguments),this.children.notScheduled=new NotScheduledView({model:{report:this.model.report,application:this.model.application,user:this.model.user,appLocal:this.model.appLocal,controller:this.model.controller}}),this.children.notScheduled.on("hide",this.hide,this),this.children.confirmation=new ConfirmationView({model:this.model.report}),this.children.embed=new EmbedView({model:{report:this.model.report,application:this.model.application}}),this.children.embed.on("hide",this.hide,this),this.model.report.entry.content.on("change:embed.enabled",function(){return util.normalizeBoolean(this.model.report.entry.content.get("embed.enabled"))?(this.model.controller&&this.model.controller.trigger("refreshEntities"),this.children.notScheduled.$el.hide(),this.children.confirmation.$el.hide(),void this.children.embed.show()):(this.hide(),void(this.model.controller&&this.model.controller.trigger("refreshEntities")))},this)},visibility:function(){this.model.report.entry.content.get("is_scheduled")?util.normalizeBoolean(this.model.report.entry.content.get("embed.enabled"))?(this.children.notScheduled.$el.hide(),this.children.confirmation.$el.hide(),this.children.embed.show()):(this.children.notScheduled.$el.hide(),this.children.confirmation.$el.show(),this.children.embed.$el.hide()):(this.children.notScheduled.$el.show(),this.children.confirmation.$el.hide(),this.children.embed.$el.hide())},render:function(){this.$el.append(this.children.notScheduled.render().el),this.$el.append(this.children.confirmation.render().el),this.$el.append(this.children.embed.render().el),this.visibility()}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/dialogs/embed_dialog/NotScheduled":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/reportcontrols/dialogs/schedule_dialog/Master")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,BaseView,ModalView,ScheduleDialog){return BaseView.extend({moduleId:module.id,events:{"click a.scheduleReport":function(e){this.trigger("hide");var scheduleDialog=new ScheduleDialog({model:{report:this.model.report,application:this.model.application,user:this.model.user,appLocal:this.model.appLocal,controller:this.model.controller},onHiddenRemove:!0});scheduleDialog.render().appendTo($("body")),scheduleDialog.show(),e.preventDefault()}},render:function(){return this.$el.html(ModalView.TEMPLATE),this.$(ModalView.HEADER_TITLE_SELECTOR).html(_("Report Must Be Scheduled").t()),this.$(ModalView.BODY_SELECTOR).append("<p>"+_("You cannot enable embedding for this report until it is scheduled. Embedded reports always display the results of their last scheduled run.").t()+"</p>"),this.$(ModalView.FOOTER_SELECTOR).append(ModalView.BUTTON_CANCEL),this.$(ModalView.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary pull-right scheduleReport">'+_("Schedule Report").t()+"</a>"),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/dialogs/embed_dialog/Confirmation":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/Modal"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,ModalView,splunkUtils){return BaseView.extend({moduleId:module.id,events:{"click a.enableEmbedding":function(e){e.preventDefault(),this.model.embed.save()}},render:function(){var confirmationText=splunkUtils.sprintf(_("Are you sure you want to enable embedding for report %s? An embedded report can be viewed by anyone with access to the web page(s) in which it is inserted.").t(),"<em>"+_.escape(this.model.entry.get("name"))+"</em>");return this.$el.html(ModalView.TEMPLATE),this.$(ModalView.HEADER_TITLE_SELECTOR).html(_("Enable Report Embedding").t()),this.$(ModalView.BODY_SELECTOR).append("<p>"+confirmationText+"</p>"),this.$(ModalView.FOOTER_SELECTOR).append(ModalView.BUTTON_CANCEL),this.$(ModalView.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary pull-right enableEmbedding">'+_("Enable Embedding").t()+"</a>"),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/dialogs/embed_dialog/Embed":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("uri/route"),__webpack_require__("models/Base"),__webpack_require__("views/Base"),__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/controls/TextareaControl"),__webpack_require__("collections/services/saved/searches/Histories"),__webpack_require__("views/shared/FlashMessagesLegacy"),__webpack_require__("collections/shared/FlashMessages")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,route,BaseModel,BaseView,ModalView,TextareaControl,Histories,FlashMessagesLegacyView,FlashMessagesCollection){return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.model.state=new BaseModel,this.collection={histories:new Histories,messages:new FlashMessagesCollection},this.children.flashMessages=new FlashMessagesLegacyView({collection:this.collection.messages}),this.collection.histories.url=this.model.report.entry.links.get("history"),this.children.snippet=new TextareaControl({spellcheck:!1,modelAttribute:"text",model:this.model.state}),this.model.report.entry.content.on("change:embed.token",this.setText,this),this.collection.histories.on("sync",this.maybeWarn,this),this.setText()},setText:function(){var height,text,src=route.embed(this.model.application.get("root"),this.model.application.get("locale"),this.model.report.entry.content.get("embed.token"),this.model.report.get("id")),displayGeneralType=this.model.report.entry.content.get("display.general.type"),displayVisualizationsType=this.model.report.entry.content.get("display.visualizations.type"),baseHeight=300,offsetHeight=36;"visualizations"===displayGeneralType&&"charting"===displayVisualizationsType?baseHeight=parseInt(this.model.report.entry.content.get("display.visualizations.chartHeight"),10):"events"===displayGeneralType||"statistics"===displayGeneralType?baseHeight=600:"visualizations"===displayGeneralType&&"mapping"===displayVisualizationsType?baseHeight=parseInt(this.model.report.entry.content.get("display.visualizations.mapHeight"),0):"visualizations"===displayGeneralType&&"singlevalue"===displayVisualizationsType&&(baseHeight=60),height=baseHeight+offsetHeight,text=_.template('<iframe height="<%- height %>" width="480" frameborder="0" src="<%= src %>"></iframe>',{src:src,height:height}),this.model.state.set("text",text)},show:function(){this.$el.show(),this.$("textarea").focus(),this.collection.histories.fetch({data:{count:1}})},maybeWarn:function(){this.collection.histories.length?this.collection.messages.reset([]):this.collection.messages.reset([{type:"warning",html:_("Embedded Report will not have data until the scheduled search runs.").t()}])},events:{"focus textarea":function(e){setTimeout(function(){this.$("textarea").select()}.bind(this),0)},"click a.disableEmbedding":function(e){e.preventDefault(),window.confirm(_("Are you sure you no longer want to share this report outside of Splunk?").t())&&this.model.report.unembed.save()}},render:function(){return this.$el.html(ModalView.TEMPLATE),this.$(ModalView.HEADER_TITLE_SELECTOR).html(_("Embed").t()),this.$(ModalView.BODY_SELECTOR).append(this.children.flashMessages.render().el),this.$(ModalView.BODY_SELECTOR).append("<p>"+_("Copy and paste this code into your HTML-based web page.").t()+"</p>"),this.children.snippet.render().appendTo(this.$(ModalView.BODY_SELECTOR)),this.$(ModalView.BODY_SELECTOR).append("<p>"+_("Disable embedding if you no longer want to share this report outside of Splunk.").t()+"</p>"),this.$(ModalView.FOOTER_SELECTOR).append('<a href="#" class="btn disableEmbedding">'+_("Disable Embedding").t()+"</a>"),this.$(ModalView.FOOTER_SELECTOR).append(ModalView.BUTTON_DONE),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/FlashMessagesLegacy":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("views/Base"),module],__WEBPACK_AMD_DEFINE_RESULT__=function(_,Base,module){return Base.extend({moduleId:module.id,className:"alerts",initialize:function(){Base.prototype.initialize.apply(this,arguments),_.defaults(this.options,{escape:!0}),this.activate()},startListening:function(){this.listenTo(this.collection,"add push reset",this.render)},render:function(){var template=_.template(this.template,{flashMessages:this.collection,escape:this.options.escape});return this.$el.html(template),0===this.collection.length?this.$el.hide():this.$el.show(),this},template:'\t            <% flashMessages.each(function(flashMessage){ %> \t                <div class="alert alert-<%- flashMessage.get("type") %>">\t                    <i class="icon-alert"></i>\t                    <% if (escape && flashMessage.get("escape") !== false) { %>\t                        <%- flashMessage.get("html") %>\t                    <% } else { %>\t                        <%= flashMessage.get("html") %>\t                    <% } %>\t                </div>\t            <% }); %> \t        '},{update:function(errors,parentView,flashMessagesCollection){var flashMessageModels=[],uniquifier=0;_(parentView.children).each(function(child){child.error(!1)}),_(errors).each(function(error){parentView.children[error.name].error(!0),flashMessageModels.push({key:parentView.cid+uniquifier++,type:"error",html:error.msg})},parentView),flashMessagesCollection.reset(flashMessageModels)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/dialogs/embed_dialog/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(855);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(12)(content,{});content.locals&&(module.exports=content.locals)},"views/reports/table/TableRow":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/reportcontrols/editmenu/Master"),__webpack_require__("views/shared/delegates/TableRowToggle"),__webpack_require__("uri/route"),__webpack_require__("util/splunkd_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,BaseView,EditDropDown,TableRowToggleView,route,splunkd_utils){return BaseView.extend({moduleId:module.id,tagName:"tr",className:"expand",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.$el.addClass(this.options.index%2?"even":"odd");var appLocals=this.collection.apps,updatedCollection=_.omit(this.collection,"apps");updatedCollection.appLocals=appLocals,this.editdropdown=new EditDropDown({model:{application:this.model.application,report:this.model.report,user:this.model.user,appLocal:this.model.appLocal,serverInfo:this.model.serverInfo},collection:updatedCollection,button:!1,showOpenActions:!1}),this.activate()},startListening:function(){this.listenTo(this.model.report,"updateCollection",function(){this.model.state.trigger("change:search")}),this.listenTo(this.model.report.entry.content,"change:next_scheduled_time",this.updateScheduleTime),this.listenTo(this.model.report.entry.acl,"change:sharing",this.updateSharing)},updateSharing:function(){var sharing=this.model.report.entry.acl.get("sharing"),sharingLabel=splunkd_utils.getSharingLabel(sharing);this.$("td.sharing").text(sharingLabel)},updateScheduleTime:function(){this.$("td.scheduled_time").text(this.model.report.entry.content.get("next_scheduled_time")||_("None").t())},render:function(){var openInView=this.model.report.openInView(this.model.user),reportName=this.model.report.entry.get("name"),appName=this.model.report.entry.acl.get("app"),reportApp=_.find(this.collection.apps.models,function(app){return app.entry.get("name")===appName}),app=reportApp&&reportApp.entry.content.get("visible")?appName:this.options.alternateApp,openInApp=this.model.application.get("app");"system"===openInApp&&(openInApp=app);var view=route.getView(openInView),reportLink=route.report(this.model.application.get("root"),this.model.application.get("locale"),openInApp,{data:{s:this.model.report.id}}),openLink=view.route(this.model.application.get("root"),this.model.application.get("locale"),openInApp,{data:{s:this.model.report.id}});return this.$el.html(this.compiledTemplate({reportName:reportName,openInText:view.openLabel,reportLink:reportLink,link:openLink,app:this.model.report.entry.acl.get("app"),scheduled_time:this.model.report.entry.content.get("next_scheduled_time")||_("None").t(),owner:this.model.report.entry.acl.get("owner"),index:this.options.index,canUseApps:this.model.user.canUseApps()})),this.updateSharing(),this.editdropdown.render().appendTo(this.$(".actions-edit")),this},template:'\t                <td class="expands">\t                    <a href="#"><i class="icon-triangle-right-small"></i></a>\t                </td>\t                <td class="title">\t                    <a href="<%= reportLink %>" title="<%- reportName %>"><%- reportName %></a>\t                </td>\t                <td class="actions actions-edit">\t                    <a class="openInLink" href="<%= link %>"><%- openInText %></a>\t                </td>\t                <td class="scheduled_time"><%- scheduled_time %></td>\t                <td class="owner"><%- owner %></td>\t                <% if(canUseApps) { %>\t                    <td class="app"><%- app %></td>\t                <% } %>\t                <td class="sharing">Global</td>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/dialogs/EnableDisableDialog":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/shared/Modal"),__webpack_require__("views/shared/FlashMessages"),__webpack_require__("uri/route"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,Modal,FlashMessage,route,splunkUtil){return Modal.extend({moduleId:module.id,initialize:function(options){Modal.prototype.initialize.apply(this,arguments),this.model={report:this.model,inmem:this.model.clone()},this.action=this.model.inmem.entry.content.get("disabled")?_("Enable").t():_("Disable").t(),this.children.flashMessage=new FlashMessage({model:this.model.inmem})},events:$.extend({},Modal.prototype.events,{"click .btn-primary":function(e){this.model.inmem.entry.content.set({disabled:!this.model.inmem.entry.content.get("disabled")}),this.model.inmem.save({},{success:function(model,response){this.hide(),this.model.report.fetch()}.bind(this)}),e.preventDefault()}}),render:function(){return this.$el.html(Modal.TEMPLATE),this.$(Modal.HEADER_TITLE_SELECTOR).html(this.action),this.children.flashMessage.render().prependTo(this.$(Modal.BODY_SELECTOR)),this.$(Modal.BODY_SELECTOR).append(this.compiledTemplate({_:_,model:this.model.inmem,splunkUtil:splunkUtil})),this.$(Modal.FOOTER_SELECTOR).append(Modal.BUTTON_CANCEL),this.$(Modal.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary">'+this.action+"</a>"),this},template:'\t            <% if(model.entry.content.get("disabled")) { %>\t                <span><%- splunkUtil.sprintf(_(\'Are you sure you want to enable "%s"?\').t(), model.entry.get("name")) %></span>\t            <% } else { %>\t                <p><%- splunkUtil.sprintf(_(\'Are you sure you want to disable "%s"?\').t(), model.entry.get("name")) %></p>\t            <% } %>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/reports/table/MoreInfo":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("views/Base"),__webpack_require__("views/shared/reportcontrols/details/Master"),__webpack_require__("uri/route")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,BaseView,DetailView,route){return BaseView.extend({moduleId:module.id,tagName:"tr",className:"more-info",initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.$el.addClass(this.options.index%2?"even":"odd").css("display","none"),this.children.details=new DetailView({model:{report:this.model.report,application:this.model.application,user:this.model.user,appLocal:this.model.appLocal,serverInfo:this.model.serverInfo},collection:{roles:this.collection.roles,apps:this.collection.apps,alertActions:this.collection.alertActions},alternateApp:this.options.alternateApp}),this.activate()},startListening:function(){this.listenTo(this.model.report.entry.content,"change:description",this.renderDescription)},renderDescription:function(){var $descriptionElement=this.$("p.description"),descriptionText=this.model.report.entry.content.get("description");return 0===$descriptionElement.length&&descriptionText?void this.$("td.details").prepend('<p class="description">'+descriptionText+"</p>"):0===$descriptionElement.length||descriptionText?void $descriptionElement.text(descriptionText):void $descriptionElement.remove()},render:function(){return this.$el.html(this.compiledTemplate({description:this.model.report.entry.content.get("description"),cols:this.options.colSpan})),this.children.details.render().appendTo(this.$("td.details")),this},template:'\t                <td class="details" colspan="<%= cols %>">\t                <% if(description) { %>\t                    <p class="description">\t                        <%- description %>\t                    </p>\t                <% } %>\t                </td>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/details/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("views/Base"),module,__webpack_require__("views/shared/reportcontrols/details/History"),__webpack_require__("views/shared/reportcontrols/details/Creator"),__webpack_require__("views/shared/documentcontrols/details/App"),__webpack_require__("views/shared/reportcontrols/details/Schedule"),__webpack_require__("views/shared/reportcontrols/details/EditSchedule"),__webpack_require__("views/shared/documentcontrols/details/Actions"),__webpack_require__("views/shared/reportcontrols/details/Acceleration"),__webpack_require__("views/shared/reportcontrols/details/EditAcceleration"),__webpack_require__("views/shared/documentcontrols/details/Permissions"),__webpack_require__("views/shared/documentcontrols/details/ModifiedDate"),__webpack_require__("views/shared/reportcontrols/details/EditPermissions"),__webpack_require__("views/shared/reportcontrols/details/Embed"),__webpack_require__("views/shared/reportcontrols/details/EditEmbed"),__webpack_require__("util/general_utils"),__webpack_require__("shim/bootstrap.modal")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,BaseView,module,HistoryView,CreatorView,AppView,ScheduleView,EditScheduleView,ActionsTextView,AccelerationView,EditAccelerationView,PermissionsView,ModifiedView,EditPermissionsView,EmbedView,EditEmbedView,util,bootstrapModal){return BaseView.extend({moduleId:module.id,showLinks:!0,initialize:function(options){BaseView.prototype.initialize.apply(this,arguments),this.children.appView=new AppView({model:this.model.report}),this.children.scheduleView=new ScheduleView({model:this.model.report}),this.children.actionsView=new ActionsTextView({model:{document:this.model.report,application:this.model.application},collection:{alertActions:this.collection.alertActions}}),this.children.accelerationView=new AccelerationView({model:this.model.report}),this.children.permissionsView=new PermissionsView({model:{report:this.model.report,user:this.model.user,serverInfo:this.model.serverInfo}}),this.children.modifiedView=new ModifiedView({model:{document:this.model.report}}),void 0!==options.showLinks&&(this.showLinks=options.showLinks),this.children.creatorView=new CreatorView({model:{report:this.model.report,application:this.model.application},collection:{apps:this.collection.apps},showLinks:this.showLinks,alternateApp:this.options.alternateApp}),this.showLinks&&(this.children.editScheduleView=new EditScheduleView({model:{report:this.model.report,application:this.model.application,user:this.model.user,appLocal:this.model.appLocal,serverInfo:this.model.serverInfo},collection:{alertActions:this.collection.alertActions}}),this.children.editAccelerationView=new EditAccelerationView({model:{report:this.model.report,searchJob:this.model.searchJob,application:this.model.application}}),this.children.editPermissionsView=new EditPermissionsView({model:{report:this.model.report,user:this.model.user,serverInfo:this.model.serverInfo,application:this.model.application},collection:this.collection.roles}),this.children.editEmbedView=new EditEmbedView({model:this.model})),this.children.embedView=new EmbedView({model:this.model.report}),this.model.searchJob&&this.model.searchJob.on("prepared",function(){this.$("a.edit-acceleration").css("display","")},this)},startListening:function(){this.listenTo(this.model.report.entry.content,"change:embed.enabled",this.debouncedRender)},render:function(){var canWrite=this.model.report.entry.acl.get("can_write")&&!(this.model.report.entry.content.get("is_scheduled")&&!this.model.user.canScheduleSearch()),canEmbed=this.model.report.canEmbed(this.model.user.canScheduleSearch(),this.model.user.canEmbed()),isEmbedded=util.normalizeBoolean(this.model.report.entry.content.get("embed.enabled"));return this.el.innerHTML=this.compiledTemplate(),this.children.creatorView.render().appendTo(this.$("dd.creator")),this.children.appView.render().appendTo(this.$("dd.app")),this.children.scheduleView.render().appendTo(this.$("dd.schedule")),this.children.actionsView.render().appendTo(this.$("dd.actions")),this.children.accelerationView.render().appendTo(this.$("dd.acceleration")),this.children.permissionsView.render().appendTo(this.$("dd.permissions")),this.children.modifiedView.render().appendTo(this.$("dd.modified")),this.children.embedView.render().appendTo(this.$("dd.embed")),this.showLinks&&(canWrite&&!isEmbedded&&(this.model.user.canScheduleSearch()&&!this.model.report.isRealTime()&&this.children.editScheduleView.render().appendTo(this.$("dd.schedule")),this.model.user.canAccelerateReport()&&this.children.editAccelerationView.render().appendTo(this.$("dd.acceleration")),this.model.report.entry.acl.get("can_change_perms")&&this.children.editPermissionsView.render().appendTo(this.$("dd.permissions"))),canEmbed&&this.children.editEmbedView.render().appendTo(this.$("dd.embed"))),this.model.searchJob&&this.model.searchJob.isPreparing()&&this.$("a.edit-acceleration").css("display","none"),this.model.report.isPivotReport()&&(this.$("dt.acceleration").remove(),this.$("dd.acceleration").remove()),this},template:'\t            <dl class="list-dotted">\t                <!--TODO when these attributes exist-->\t                <!--<dt class="history"><%- _("History").t() %></dt>\t                    <dd class="history"></dd>-->\t                <dt class="creator"><%- _("Creator").t() %></dt>\t                    <dd class="creator"></dd>\t                <dt class="app"><%- _("App").t() %></dt>\t                    <dd class="app"></dd>\t                <dt class="schedule"><%- _("Schedule").t() %></dt>\t                    <dd class="schedule"></dd>\t                <dt class="actions"><%- _("Actions").t() %></dt>\t                    <dd class="actions"></dd>\t                <dt class="acceleration"><%- _("Acceleration").t() %></dt>\t                    <dd class="acceleration"></dd>\t                <dt class="permissions"><%- _("Permissions").t() %></dt>\t                    <dd class="permissions"></dd>\t                <dt class="modified"><%- _("Modified").t() %></dt>\t                    <dd class="modified"></dd>\t                <dt class="embed"><%- _("Embedding").t() %></dt>\t                    <dd class="embed"></dd>\t            </dl>\t        '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/details/Acceleration":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,Base,splunkUtil){return Base.extend({moduleId:module.id,tagName:"span",initialize:function(){Base.prototype.initialize.apply(this,arguments),this.activate()},activate:function(options){return this.active?Base.prototype.activate.call(this,options):(Base.prototype.activate.call(this,options),this.el.innerHTML&&this.render(),this)},startListening:function(){this.listenTo(this.model.entry.content,"change:auto_summarize change:auto_summarize.dispatch.earliest_time",this.debouncedRender)},render:function(){return this.$el.html(this.compiledTemplate({model:this.model,_:_,splunkUtil:splunkUtil})),this},convertSummarizeTime:function(relTime){switch(relTime){case"-1d@h":return _("1 Day").t();case"-7d@d":return _("1 Week").t();case"-1mon@d":return _("1 Month").t();case"-3mon@d":return _("3 Months").t();case"-1y@d":return _("1 Year").t();case"0":return _("All Time").t();default:return _("Custom").t()}},template:'\t                <% if (model.entry.content.get("auto_summarize")) { %>\t                    <%- splunkUtil.sprintf(_("Enabled. Summary Range: %s.").t(), this.convertSummarizeTime(model.entry.content.get("auto_summarize.dispatch.earliest_time"))) %>\t                <% } else { %>\t                    <%- _("Disabled.").t() %>\t                <% } %>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/details/History":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[module,__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(module,Base){return Base.extend({moduleId:module.id,tagName:"span",initialize:function(){Base.prototype.initialize.apply(this,arguments),this.model.entry.on("change:updated",this.render,this)},render:function(){return this.$el.html(this.compiledTemplate({model:this.model})),this},template:'\t                Created June 18, 2010. Modified <%- model.entry.get("updated") %>.\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/details/Creator":function(module,exports,__webpack_require__){
var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("uri/route"),__webpack_require__("shim/splunk.util")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,Base,route,splunkUtil){return Base.extend({moduleId:module.id,tagName:"span",showLinks:!0,initialize:function(options){Base.prototype.initialize.apply(this,arguments),this.model.report.entry.content.on("change:search",this.render,this),void 0!==options.showLinks&&(this.showLinks=options.showLinks)},render:function(){var createdByRoute,createdByAnchor,appModel,root=this.model.application.get("root"),locale=this.model.application.get("locale"),aclAppName=this.model.report.entry.acl.get("app"),app=this.model.application.get("app");return this.collection.apps&&(appModel=this.collection.apps.findByEntryName(aclAppName),app=appModel&&appModel.entry.content.get("visible")?aclAppName:this.options.alternateApp),this.model.report.isPivotReport()?(createdByRoute=route.pivot(root,locale,app,{data:{s:this.model.report.id}}),createdByAnchor=this.showLinks?'<a href="'+createdByRoute+'" target="_blank">'+_("Pivot").t()+"</a>":_("Pivot").t()):(createdByRoute=route.search(root,locale,app,{data:{s:this.model.report.id}}),createdByAnchor=this.showLinks?'<a href="'+createdByRoute+'" target="_blank">'+_("Search").t()+"</a>":_("Search").t()),this.$el.html(this.compiledTemplate({_:_,splunkUtil:splunkUtil,createdByAnchor:createdByAnchor})),this},template:'\t                <%= splunkUtil.sprintf(_("Created by %s.").t(), createdByAnchor) %>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/details/Schedule":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,Base){return Base.extend({moduleId:module.id,tagName:"span",initialize:function(){Base.prototype.initialize.apply(this,arguments),this.activate()},activate:function(options){return this.active?Base.prototype.activate.call(this,options):(Base.prototype.activate.call(this,options),this.el.innerHTML&&this.render(),this)},startListening:function(){this.listenTo(this.model.entry.content,"change:is_scheduled change:cron_schedule",_.debounce(this.render))},render:function(){this.$el.html(this.model.getScheduleString())}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/details/EditSchedule":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/reportcontrols/dialogs/schedule_dialog/Master")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,Base,ScheduleDialog){return Base.extend({moduleId:module.id,tagName:"span",initialize:function(){Base.prototype.initialize.apply(this,arguments)},events:{"click a.edit-schedule":function(e){this.children.scheduleDialog=new ScheduleDialog({model:{report:this.model.report,application:this.model.application,user:this.model.user,appLocal:this.model.appLocal,serverInfo:this.model.serverInfo},collection:{alertActions:this.collection.alertActions},onHiddenRemove:!0}),this.children.scheduleDialog.render().appendTo($("body")),this.children.scheduleDialog.show(),e.preventDefault()}},render:function(){return this.$el.html(this.compiledTemplate({_:_})),this},template:'\t                <a class="edit-schedule" href="#"><%- _("Edit").t() %></a>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/details/EditAcceleration":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/reportcontrols/dialogs/AccelerationDialog")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,Base,AccelerationDialog){return Base.extend({moduleId:module.id,tagName:"span",initialize:function(){Base.prototype.initialize.apply(this,arguments)},events:{"click a.edit-acceleration":function(e){this.children.accelerationDialog=new AccelerationDialog({model:{report:this.model.report,searchJob:this.model.searchJob,application:this.model.application},onHiddenRemove:!0}),this.children.accelerationDialog.render().appendTo($("body")),this.children.accelerationDialog.show(),e.preventDefault()}},render:function(){return this.$el.html(this.compiledTemplate({_:_})),this},template:'\t                <a class="edit-acceleration" href="#"><%- _("Edit").t() %></a>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/details/EditPermissions":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/documentcontrols/dialogs/permissions_dialog/Master")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,Base,PermissionsDialog){return Base.extend({moduleId:module.id,tagName:"span",initialize:function(){Base.prototype.initialize.apply(this,arguments)},events:{"click a.edit-permissions":function(e){this.children.permissionsDialog=new PermissionsDialog({model:{document:this.model.report,nameModel:this.model.report.entry,user:this.model.user,serverInfo:this.model.serverInfo,application:this.model.application},collection:this.collection,onHiddenRemove:!0,nameLabel:_("Report").t(),showDispatchAs:!0}),this.children.permissionsDialog.render().appendTo($("body")),this.children.permissionsDialog.show(),this.listenTo(this.children.permissionsDialog,"hidden",function(){this.model.report.entry.content.get("is_scheduled")&&"user"===this.model.report.entry.content.get("dispatchAs")&&(this.model.report.entry.content.set("dispatchAs","owner"),this.model.report.save())}),e.preventDefault()}},render:function(){return this.$el.html(this.compiledTemplate({_:_})),this},template:'\t                <a class="edit-permissions" href="#"><%- _("Edit").t() %></a>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/details/Embed":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),module,__webpack_require__("views/Base"),__webpack_require__("util/general_utils")],__WEBPACK_AMD_DEFINE_RESULT__=function(_,module,Base,Util){return Base.extend({moduleId:module.id,tagName:"span",initialize:function(){Base.prototype.initialize.apply(this,arguments),this.activate()},activate:function(options){return this.active?Base.prototype.activate.call(this,options):(Base.prototype.activate.call(this,options),this.el.innerHTML&&this.render(),this)},startListening:function(){this.listenTo(this.model.entry.content,"change:embed.enabled",this.debouncedRender)},render:function(){var embed=Util.normalizeBoolean(this.model.entry.content.get("embed.enabled"));return this.$el.html(this.compiledTemplate({_:_,embed:embed})),this},template:'\t                <% if (embed) { %>\t                    <%- _("Enabled.").t() %>\t                <% } else { %>\t                    <%- _("Disabled.").t() %>\t                <% } %>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/details/EditEmbed":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),module,__webpack_require__("views/Base"),__webpack_require__("views/shared/reportcontrols/dialogs/embed_dialog/Master")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,module,Base,EmbedDialog){return Base.extend({moduleId:module.id,tagName:"span",initialize:function(){Base.prototype.initialize.apply(this,arguments)},events:{"click a.edit-embed":function(e){this.children.embedDialog=new EmbedDialog({model:this.model,onHiddenRemove:!0}),this.children.embedDialog.render().appendTo($("body")),this.children.embedDialog.show(),e.preventDefault()}},render:function(){return this.$el.html(this.compiledTemplate({_:_})),this},template:'\t                <a class="edit-embed" href="#"><%- _("Edit").t() %></a>\t            '})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/reports/tiles/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var BaseView=(__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("views/Base")),ReportTileList=__webpack_require__("views/reports/tiles/ReportTileList");return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.reportTileList=new ReportTileList({model:{state:this.model.state,application:this.model.application,uiPrefs:this.model.uiPrefs,userPref:this.model.userPref,user:this.model.user,appLocal:this.model.appLocal,serverInfo:this.model.serverInfo},collection:{reports:this.collection.reports,roles:this.collection.roles,apps:this.collection.apps,alertActions:this.collection.alertActions}}),this.activate()},render:function(){return this.children.reportTileList.render().appendTo(this.$el),this}})}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/reports/tiles/ReportTileList":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var _=(__webpack_require__("shim/jquery"),__webpack_require__("require/underscore")),BaseView=__webpack_require__("views/Base"),ReportTile=__webpack_require__("views/reports/tiles/ReportTile");return BaseView.extend({moduleId:module.id,initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this.children.tiles=[],this.activate()},startListening:function(){this.listenTo(this.collection.reports,"reset add remove",this.debouncedRender)},render:function(){return _(this.children.tiles).each(function(tile){tile.remove()},this),this.children.tiles=this.collection.reports.map(function(report){return new ReportTile({model:{state:this.model.state,application:this.model.application,uiPrefs:this.model.uiPrefs,userPref:this.model.userPref,user:this.model.user,appLocal:this.model.appLocal,serverInfo:this.model.serverInfo,report:report},collection:{reports:this.collection.reports,roles:this.collection.roles,apps:this.collection.apps,alertActions:this.collection.alertActions}})},this),_(this.children.tiles).each(function(tile){tile.render().appendTo(this.$el)},this),this}})}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/reports/tiles/ReportTile":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var $=__webpack_require__("shim/jquery"),VizIcons=(__webpack_require__("require/underscore"),__webpack_require__("svg/VizIcons")),Route=__webpack_require__("uri/route"),BaseView=__webpack_require__("views/Base"),EditMenu=__webpack_require__("views/shared/reportcontrols/editmenu/Menu"),template=__webpack_require__(856);return BaseView.extend({moduleId:module.id,template:template,events:{mouseenter:function(e){this._showActions=!0,this._toggleActions()},mouseleave:function(e){this._showActions=!1,this._toggleActions()},"mousedown .action-edit":function(e){e.preventDefault();var $target=$(e.currentTarget);return this.children.editmenu&&this.children.editmenu.shown?void this.children.editmenu.hide():(this.children.editmenu=new EditMenu({model:{report:this.model.report,application:this.model.application,searchJob:this.model.searchJob,appLocal:this.model.appLocal,user:this.model.user,serverInfo:this.model.serverInfo},collection:{roles:this.collection.roles,appLocals:this.collection.apps,alertActions:this.collection.alertActions},showOpenActions:!1,onHiddenRemove:!0}),this.children.editmenu.on("hidden",this._toggleActions,this),this.children.editmenu.render().appendTo($("body")),void this.children.editmenu.show($target))},"click .action-edit":function(e){e.preventDefault()}},initialize:function(){BaseView.prototype.initialize.apply(this,arguments),this._showActions=!1,this.activate()},startListening:function(){this.listenTo(this.model.report,"change",this.debouncedRender),this.listenTo(this.model.report,"updateCollection",function(){this.model.state.trigger("change:search")})},render:function(){var application=this.model.application,report=this.model.report,user=this.model.user,name=report.entry.get("name")||"",icon=VizIcons.getReportIcon(report)||"",app="system"===application.get("app")?report.entry.acl.get("app"):application.get("app"),reportLink=Route.report(application.get("root"),application.get("locale"),app,{data:{s:report.id}}),searchLink=Route.search(application.get("root"),application.get("locale"),app,{data:{s:report.id}}),canWrite=report.canWrite(user.canScheduleSearch(),user.canRTSearch()),canClone=report.canClone(user.canScheduleSearch(),user.canRTSearch()),canEmbed=report.canEmbed(user.canScheduleSearch(),user.canEmbed()),canDelete=report.canDelete(),showGear=!1;return(canWrite||canClone||canEmbed||canDelete)&&(showGear=!0),this.$el.html(this.compiledTemplate({name:name,icon:icon,showGear:showGear,reportLink:reportLink,searchLink:searchLink})),this._toggleActions(),this},_toggleActions:function(){this._showActions||this.children.editmenu&&this.children.editmenu.shown?this.$(".tile-actions").show():this.$(".tile-actions").hide()}})}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/shared/reportcontrols/editmenu/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),module,__webpack_require__("models/classicurl"),__webpack_require__("views/Base"),__webpack_require__("views/shared/basemanager/MoveDialog"),__webpack_require__("views/shared/documentcontrols/dialogs/DeleteDialog"),__webpack_require__("views/shared/reportcontrols/dialogs/clone_dialog/Master"),__webpack_require__("views/shared/reportcontrols/editmenu/Menu"),__webpack_require__("uri/route"),__webpack_require__("shim/bootstrap.modal")],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,module,classicUrlModel,Base,MoveDialog,DeleteDialog,CloneDialog,EditMenuPopTart,route){return Base.extend({moduleId:module.id,initialize:function(){Base.prototype.initialize.apply(this,arguments);var defaults={button:!0,showOpenActions:!0,deleteRedirect:!1,showDisable:!1,showMove:!1,showAdvancedEdit:!1,showSearchField:!1,showSummaryIndexing:!1};_.defaults(this.options,defaults),this.model.searchJob&&this.model.searchJob.on("prepared",function(){this.$("a.clone").removeClass("disabled")},this)},events:{"click a.open-in-search":function(e){var data={};data=this.model.searchJob&&!this.model.searchJob.isNew()?classicUrlModel.toJSON():{s:this.model.report.id};var openInView=this.model.report.openInView(this.model.user),view=route.getView(openInView),routeString=view.route(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:data});window.location=routeString,e.preventDefault()},"click a.clone":function(e){this.children.cloneDialog=new CloneDialog({model:{report:this.model.report,searchJob:this.model.searchJob,application:this.model.application,user:this.model.user},collection:{appLocals:this.collection.appLocals},onHiddenRemove:!0}),this.children.cloneDialog.render().appendTo($("body")).show(),e.preventDefault()},"click a.delete":function(e){this.children.deleteDialog=new DeleteDialog({model:{report:this.model.report,application:this.model.application,controller:this.model.controller},deleteRedirect:this.options.deleteRedirect,onHiddenRemove:!0}),this.children.deleteDialog.render().appendTo($("body")).show(),e.preventDefault()},"click a.edit":function(e){e.preventDefault(),this.openEdit($(e.currentTarget))},"click a.move":function(e){this.children.moveDialog=new MoveDialog({model:{entity:this.model.report,application:this.model.application,controller:this.model.controller},collection:{appLocals:this.collection.appLocals},entitySingular:this.options.entitySingular,onHiddenRemove:!0}),this.children.moveDialog.render().appendTo($("body")).show(),e.preventDefault()}},openEdit:function($target){return this.children.editMenuPopTart&&this.children.editMenuPopTart.shown?void this.children.editMenuPopTart.hide():($target.addClass("active"),this.children.editMenuPopTart=new EditMenuPopTart({model:{report:this.model.report,application:this.model.application,searchJob:this.model.searchJob,appLocal:this.model.appLocal,user:this.model.user,serverInfo:this.model.serverInfo,controller:this.model.controller},collection:this.collection,showOpenActions:this.options.showOpenActions,deleteRedirect:this.options.deleteRedirect,onHiddenRemove:!0,ignoreToggleMouseDown:!0,showDisable:this.options.showDisable,showMove:this.options.showMove,showAdvancedEdit:this.options.showAdvancedEdit,showSearchField:this.options.showSearchField,entitySingular:this.options.entitySingular,showSummaryIndexing:this.options.showSummaryIndexing}),this.children.editMenuPopTart.render().appendTo($("body")),this.children.editMenuPopTart.show($target),void this.children.editMenuPopTart.on("hide",function(){$target.removeClass("active")},this))},render:function(){var canWrite=this.model.report.canWrite(this.model.user.canScheduleSearch(),this.model.user.canRTSearch()),canClone=this.model.report.canClone(this.model.user.canScheduleSearch(),this.model.user.canRTSearch()),canEmbed=this.model.report.canEmbed(this.model.user.canScheduleSearch(),this.model.user.canEmbed()),canDelete=this.model.report.canDelete(),canMove=this.model.report.canMove();if(canWrite||1<0+this.options.showOpenActions+canClone+canDelete+canEmbed+(this.options.showMove&&canMove))this.$el.append('<a class="dropdown-toggle edit'+(this.options.button?" btn":"")+'" href="#">'+_("Edit").t()+'<span class="caret"></span></a>');else{if(this.options.showOpenActions){var openInView=this.model.report.openInView(this.model.user),view=route.getView(openInView),link=view.route(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{s:this.model.report.id}});this.$el.append('<a class="open-in-'+openInView+(this.options.button?" btn":"")+'" href="'+link+'">'+view.openLabel+"</a>")}canClone&&this.$el.append('<a class="clone'+(this.options.button?" btn":"")+'" href="#">'+_("Clone").t()+"</a>"),canEmbed&&this.$el.append('<a class="embed'+(this.options.button?" btn":"")+'" href="#">'+_("Embed").t()+"</a>"),this.options.showMove&&canMove&&this.$el.append('<a class="move'+(this.options.button?" btn":"")+'" href="#">'+_("Move").t()+"</a>"),canDelete&&this.$el.append('<a class="delete'+(this.options.button?" btn":"")+'" href="#">'+_("Delete").t()+"</a>")}return this.model.searchJob&&this.model.searchJob.isPreparing()&&this.$("a.clone").addClass("disabled"),this}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},"views/reports/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(857);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(12)(content,{});content.locals&&(module.exports=content.locals)},"views/shared/basemanager/SearchableDropdown/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(852);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(12)(content,{});content.locals&&(module.exports=content.locals)}});